{"remainingRequest":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/babel-loader/lib/index.js!/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Catalogo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Catalogo.vue","mtime":1626293412580},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IGF1dGggZnJvbSAiQC9sb2dpY2EvYXV0aCI7CmltcG9ydCBlbWFpbGpzIGZyb20gJ2VtYWlsanMtY29tJzsKaW1wb3J0IHsgaW5pdCB9IGZyb20gJ2VtYWlsanMtY29tJzsKaW5pdCgidXNlcl9tQTVTZER3M3dJYU5zQlNmbHllbHoiKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDYXRhbG9nbycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTsgLy8gRmVjaGEgZGUgSG95CgogICAgdmFyIG1pbkRhdGUgPSBuZXcgRGF0ZSh0b2RheSk7CiAgICBtaW5EYXRlLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpKTsgLy9taW5EYXRlLnNldERhdGUoMTUpCiAgICAvLyAxNSBkaWFzIGRlc3B1ZXMKCiAgICB2YXIgbWF4RGF0ZSA9IG5ldyBEYXRlKHRvZGF5KTsKICAgIG1heERhdGUuc2V0RGF0ZShtaW5EYXRlLmdldERhdGUoKSArIDE1KTsgLy9tYXhEYXRlLnNldERhdGUoMTUpCgogICAgcmV0dXJuIHsKICAgICAgcnV0OiAnJywKICAgICAgZm90bzogJycsCiAgICAgIHNob3dCdG5JbmljaWFyOiB0cnVlLAogICAgICBzaG93QnRuUmVnaXN0cmFyOiB0cnVlLAogICAgICBidG5TZXNpb246IGZhbHNlLAogICAgICB2YWx1ZToge30sCiAgICAgIG1pbjogbWluRGF0ZSwKICAgICAgbWF4OiBtYXhEYXRlLAogICAgICBpdGVtOiAnJywKICAgICAgaXRlbTE6ICcnLAogICAgICBpdGVtMjogbnVsbCwKICAgICAgY2F0ZWdvcmlhOiBudWxsLAogICAgICB0aXBvcHJvZHVjdG86IG51bGwsCiAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgdGV4dG8xOiAnJywKICAgICAgdGV4dG8yOiAnJywKICAgICAgY2FudGlkYWRQcm9kdWN0b3NTYWxhOiAwLAogICAgICBidG5BbmFkaXJMaXN0YTogewogICAgICAgIGVzdGFkbzoge30sCiAgICAgICAgZXN0YWRvRmVjaGE6IHt9LAogICAgICAgIHRleHRvOiB7fQogICAgICB9LAogICAgICBtZW5zYWplOiAnJywKICAgICAgY29uZmlybWFyY2xhdmU6ICcnLAogICAgICBtb2RhbFNob3cxOiBmYWxzZSwKICAgICAgbW9kYWxTaG93MjogZmFsc2UsCiAgICAgIG1vZGFsU2hvdzM6IGZhbHNlLAogICAgICBzaG93RHJvcGRvd246IGZhbHNlLAogICAgICBzZWxlY3Q6IG51bGwsCiAgICAgIGNhdGVnb3JpYXM6IFtdLAogICAgICB4YnVzcXVlZGE6IFtdLAogICAgICB4Y2F0ZWdvcmlhczogW10sCiAgICAgIHRpcG9wcm9kdWN0b3M6IFtdLAogICAgICB4dGlwb3Byb2R1Y3RvczogW10sCiAgICAgIGx1Z2FyOiBbXSwKICAgICAgcHJvZHVjdG9zOiBbXSwKICAgICAgdG1wOiBbXSwKICAgICAgZGV0YWxsZVByb2R1Y3RvOiBbXSwKICAgICAgZGV0YWxsZVJlc2VydmE6IFtdLAogICAgICByZXNlcnZhczogW10sCiAgICAgIHByZXN0YW1vc1NhbGE6IFtdLAogICAgICBpZFJlc2VydmFzOiBbXSwKICAgICAgbWF4SWRSZXNlcnZhOiBbXSwKICAgICAgaWRMZWN0b3JlczogW10sCiAgICAgIG1heElkTGVjdG9yOiBbXSwKICAgICAgbHVnYXJQcmVzdGFtbzogW3sKICAgICAgICB2YWx1ZTogMSwKICAgICAgICB0ZXh0OiAnU2FsYScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIHRleHQ6ICdTYWxhIHkgRG9taWNpbGlvJwogICAgICB9XSwKICAgICAgcHJvZHVjdG86IHsKICAgICAgICBpZF9wcm9kdWN0bzogbnVsbCwKICAgICAgICBkZXNjX3Byb2Q6ICcnLAogICAgICAgIHRpdHVsbzogJycsCiAgICAgICAgYXV0b3I6ICcnLAogICAgICAgIGVkaXRvcmlhbDogJycsCiAgICAgICAgZWRpY2lvbjogJycsCiAgICAgICAgYW5ub19lZGljOiBudWxsLAogICAgICAgIGR1cmFjaW9uOiAnJywKICAgICAgICB0aWVtcG9fcHJlc3Q6IG51bGwsCiAgICAgICAgbHVnYXJfcHJlc3Q6IG51bGwsCiAgICAgICAgY2FudGlkYWQ6IG51bGwsCiAgICAgICAgaWRfY2F0ZWdvcmlhOiBudWxsLAogICAgICAgIGlkX3ViaWNhY2lvbjogbnVsbCwKICAgICAgICBmb3RvX3Byb2R1Y3RvOiAnJwogICAgICB9LAogICAgICBsZWN0b3I6IHsKICAgICAgICBydXRfbGVjdG9yOiAnJywKICAgICAgICBub21iX2xlYzogJycsCiAgICAgICAgYXBlX2xlYzogJycsCiAgICAgICAgZGlyZWNjaW9uOiAnJywKICAgICAgICBjb3JyZW9fbGVjOiAnJywKICAgICAgICBjb250cmFzZW5hX2xlYzogJycsCiAgICAgICAgdGVsX2xlYzogJycsCiAgICAgICAgYWN0aXZvOiAnSScsCiAgICAgICAgZm90bzogJycsCiAgICAgICAgaHVlbGxhOiAnJywKICAgICAgICBpZF9sZWN0b3I6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNhcmdhclByb2R1Y3RvcygpOwoKICAgIGlmIChhdXRoLmdldFVzZXJMb2dnZWQoJ3VzZXInKS5ydXRfbGVjdG9yICE9ICcnIHx8IGF1dGguZ2V0VXNlckxvZ2dlZCgndXNlcicpLnJ1dF9sZWN0b3IgIT0gbnVsbCkgewogICAgICB0aGlzLm1vc3RyYXJCb3Rvbkxpc3RhKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm9jdWx0YXJCb3Rvbkxpc3RhKCk7CiAgICB9IC8vdGhpcy5idG5BbmFkaXJMaXN0YS50ZXh0byA9ICJBw7FhZGlyIGEgbGEgbGlzdGEiCgogIH0sCiAgbWV0aG9kczogewogICAgbW9zdHJhckJvdG9uSW5pY2lhcjogZnVuY3Rpb24gbW9zdHJhckJvdG9uSW5pY2lhcigpIHsKICAgICAgdGhpcy5zaG93QnRuSW5pY2lhciA9IHRydWU7CiAgICAgIHRoaXMuc2hvd0J0blJlZ2lzdHJhciA9IHRydWU7CiAgICAgIHRoaXMuYnRuU2VzaW9uID0gZmFsc2U7CiAgICB9LAogICAgb2N1bHRhckJvdG9uSW5pY2lhcjogZnVuY3Rpb24gb2N1bHRhckJvdG9uSW5pY2lhcigpIHsKICAgICAgdGhpcy5zaG93QnRuSW5pY2lhciA9IGZhbHNlOwogICAgICB0aGlzLnNob3dCdG5SZWdpc3RyYXIgPSBmYWxzZTsKICAgICAgdGhpcy5idG5TZXNpb24gPSB0cnVlOwogICAgfSwKICAgIGluaWNpYXI6IGZ1bmN0aW9uIGluaWNpYXIoKSB7CiAgICAgIHRoaXMub2N1bHRhckJvdG9uSW5pY2lhcigpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICB9LAogICAgY2VycmFyU2VzaW9uOiBmdW5jdGlvbiBjZXJyYXJTZXNpb24oKSB7CiAgICAgIGF1dGguZGVsZXRlVXNlckxvZ2dlZCgndXNlcicpOwogICAgICB0aGlzLnJ1dCA9ICcnOwogICAgICB0aGlzLmNvbnRyYXNlbmEgPSAnJzsKICAgICAgdGhpcy5mb3RvID0gJyc7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0sCiAgICBmaWx0cm9CdXNjYXJQcm9kdWN0bzogZnVuY3Rpb24gZmlsdHJvQnVzY2FyUHJvZHVjdG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsOwogICAgICB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcz9sdWdhcl9wcmVzdD0iICsgdGhpcy5pdGVtMjsKICAgICAgdXJsICs9ICImdGl0dWxvPSIgKyB0aGlzLnRleHRvMTsKICAgICAgdXJsICs9ICImYXV0b3I9IiArIHRoaXMudGV4dG8yOwogICAgICB1cmwgKz0gIiZpZF9jYXRlZ29yaWE9IiArIHRoaXMuY2F0ZWdvcmlhOwogICAgICBheGlvcy5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBfdGhpcy5wcm9kdWN0b3MgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvL0ZpbHRyYXIgcHJvZHVjdG9zIHBvciBUaXBvICBkZSBQcm9kdWN0bwogICAgY2FyZ2FyRmlsdHJvVGlwb1Byb2R1Y3RvOiBmdW5jdGlvbiBjYXJnYXJGaWx0cm9UaXBvUHJvZHVjdG8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvY2F0ZWdvcmlhcz9pZF90aXBvX3Byb2Q9JyArIHRoaXMudGlwb3Byb2R1Y3RvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRvcyA9IFtdOwogICAgICAgIF90aGlzMi54dGlwb3Byb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzMi54dGlwb3Byb2R1Y3Rvcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0b3M/aWRfY2F0ZWdvcmlhPScgKyBlbGVtZW50LmlkX2NhdGVnb3JpYSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMyLnhjYXRlZ29yaWFzID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgIF90aGlzMi54Y2F0ZWdvcmlhcy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJlbGVtZW50KSB7CiAgICAgICAgICAgICAgZGF0b3MucHVzaChzdWJlbGVtZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLnByb2R1Y3RvcyA9IGRhdG9zOwogICAgICB9KTsKICAgIH0sCiAgICAvL0ZpbHRyYXIgcHJvZHVjdG9zIHBvciBDYXRlZ29yaWEKICAgIGNhcmdhckZpbHRyb0NhdGVnb3JpYTogZnVuY3Rpb24gY2FyZ2FyRmlsdHJvQ2F0ZWdvcmlhKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcz9pZF9jYXRlZ29yaWE9JyArIHRoaXMuY2F0ZWdvcmlhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBfdGhpczMucHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy9GaWx0cmFyIHByb2R1Y3RvcyBwb3IgTHVnYXIgZGUgUHLDqXN0YW1vCiAgICBjYXJnYXJGaWx0cm9MdWdhcjogZnVuY3Rpb24gY2FyZ2FyRmlsdHJvTHVnYXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcHJvZHVjdG9zP2x1Z2FyX3ByZXN0PScgKyB0aGlzLml0ZW0yKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBfdGhpczQucHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy9DYXJnYXIgdG9kb3MgbG9zIFByb2R1Y3RvcwogICAgY2FyZ2FyUHJvZHVjdG9zOiBmdW5jdGlvbiBjYXJnYXJQcm9kdWN0b3MoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcHJvZHVjdG9zJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gX3RoaXM1LnByb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIEHDsWFkaXIgUHJvZHVjdG8gYSBsYSBsaXN0YSBkZSBkZXNlb3MKICAgIGFuYWRpclByb2R1Y3RvOiBmdW5jdGlvbiBhbmFkaXJQcm9kdWN0byhpZCwgdmFsKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy9tb21lbnQubG9jYWxlKCk7CiAgICAgIHZhciBob3JhTWludXRvID0gbW9tZW50KCkuZm9ybWF0KCdISDptbScpOwogICAgICB2YXIgdW5pckZlY2hhSG9yYSA9IERhdGUucGFyc2UodmFsICsgIiAiICsgaG9yYU1pbnV0byk7CiAgICAgIHZhciBmZWNoYUNvbXBsZXRhID0gbW9tZW50KHVuaXJGZWNoYUhvcmEpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpOwogICAgICB0aGlzLm1heElkUmVzZXJ2YSA9IHRoaXMubWF4SWRSZXNlcnZhICsgMTsKCiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdGhpcy50bXAucHVzaCh7CiAgICAgICAgICAgIHJ1dF9sZWN0b3I6IEpTT04ucGFyc2UoYXV0aC5nZXRVc2VyTG9nZ2VkKCd1c2VyJykpLnJ1dF9sZWN0b3IsCiAgICAgICAgICAgIGZlY2hhX3Jlc2VydmE6IGZlY2hhQ29tcGxldGEsCiAgICAgICAgICAgIGlkX3Byb2R1Y3RvOiBpZCwKICAgICAgICAgICAgaWRfcmVzZXJ2YTogdGhpcy5tYXhJZFJlc2VydmEKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5idG5BbmFkaXJMaXN0YS5lc3RhZG9baWRdID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuYnRuQW5hZGlyTGlzdGEuZXN0YWRvRmVjaGFbaWRdID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuYnRuQW5hZGlyTGlzdGEudGV4dG9baWRdID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcy8nICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzNi5kZXRhbGxlUmVzZXJ2YS5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdFU1RFIEVTIEVMIEVSUk9SOiAgICcsIGVycm9yKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tZW5zYWplID0gIlBhcmEgYcOxYWRpciBhIGxhIGxpc3RhIGRlYmUgc2VsZWNjaW9uYXIgZmVjaGEgZGUgcmVzZXJ2YS4iOwogICAgICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygndG9hc3RfRXJyb3InKTsKICAgICAgfQogICAgICAvKgogICAgICBjb25zb2xlLmxvZygiUVVFIEVTVE9ZIEdVQVJEQU5ETyBFTiBMQSBMSVNUQSBERSBERVNFT1M6IEZFQ0hBIFJFU0VSVkEgPj4gIiwgZmVjaGFDb21wbGV0YSk7CiAgICAgIGNvbnNvbGUubG9nKCJGRUNIQSBZIEhPUkE6ICIsIGZlY2hhQ29tcGxldGEgKTsKICAgICAgY29uc29sZS5sb2coIkZFQ0hBIFkgSE9SQTogIiwgRGF0ZShmZWNoYUNvbXBsZXRhKSApOwogICAgICAqLwoKICAgIH0sCiAgICAvLyBCdXNjYXIgcHJvZHVjdG8gcG9yIGVsIElEX1BST0RVQ1RPCiAgICBidXNjYXJQcm9kdWN0bzogZnVuY3Rpb24gYnVzY2FyUHJvZHVjdG8oaWQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLmNhbnRpZGFkUHJvZHVjdG9zU2FsYSA9IDA7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcy8nICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM3LmRldGFsbGVQcm9kdWN0byA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXM3LnByb2R1Y3RvLmlkX3Byb2R1Y3RvID0gX3RoaXM3LmRldGFsbGVQcm9kdWN0by5pZF9wcm9kdWN0bzsKICAgICAgICBfdGhpczcucHJvZHVjdG8uZGVzY19wcm9kID0gX3RoaXM3LmRldGFsbGVQcm9kdWN0by5kZXNjX3Byb2Q7CiAgICAgICAgX3RoaXM3LnByb2R1Y3RvLnRpdHVsbyA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8udGl0dWxvOwogICAgICAgIF90aGlzNy5wcm9kdWN0by5hdXRvciA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8uYXV0b3I7CiAgICAgICAgX3RoaXM3LnByb2R1Y3RvLmVkaXRvcmlhbCA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8uZWRpdG9yaWFsOwogICAgICAgIF90aGlzNy5wcm9kdWN0by5lZGljaW9uID0gX3RoaXM3LmRldGFsbGVQcm9kdWN0by5lZGljaW9uOwogICAgICAgIF90aGlzNy5wcm9kdWN0by5hbm5vX2VkaWMgPSBfdGhpczcuZGV0YWxsZVByb2R1Y3RvLmFubm9fZWRpYzsKICAgICAgICBfdGhpczcucHJvZHVjdG8uZHVyYWNpb24gPSBfdGhpczcuZGV0YWxsZVByb2R1Y3RvLmR1cmFjaW9uOwogICAgICAgIF90aGlzNy5wcm9kdWN0by50aWVtcG9fcHJlc3QgPSBfdGhpczcuZGV0YWxsZVByb2R1Y3RvLnRpZW1wb19wcmVzdDsKICAgICAgICBfdGhpczcucHJvZHVjdG8ubHVnYXJfcHJlc3QgPSBfdGhpczcuZGV0YWxsZVByb2R1Y3RvLmx1Z2FyX3ByZXN0OwogICAgICAgIF90aGlzNy5wcm9kdWN0by5jYW50aWRhZCA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8uY2FudGlkYWQ7CiAgICAgICAgX3RoaXM3LnByb2R1Y3RvLmlkX2NhdGVnb3JpYSA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8uaWRfY2F0ZWdvcmlhOwogICAgICAgIF90aGlzNy5wcm9kdWN0by5pZF91YmljYWNpb24gPSBfdGhpczcuZGV0YWxsZVByb2R1Y3RvLmlkX3ViaWNhY2lvbjsKICAgICAgICBfdGhpczcucHJvZHVjdG8uZm90b19wcm9kdWN0byA9IF90aGlzNy5kZXRhbGxlUHJvZHVjdG8uZm90b19wcm9kdWN0bzsKICAgICAgICBjb25zb2xlLmxvZygiUkVWSVNBTkRPIElEX1BST0RVQ1RPOiAiLCBfdGhpczcucHJvZHVjdG8uaWRfcHJvZHVjdG8pOyAvL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kZXRhbGxlcHJlc3RhbW9zP2x1Z2FyPQoKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kZXRhbGxlcHJlc3RhbW9zP2x1Z2FyPVNhbGEmaWRfcHJvZHVjdG89JyArIF90aGlzNy5wcm9kdWN0by5pZF9wcm9kdWN0bykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNy5wcmVzdGFtb3NTYWxhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIF90aGlzNy5jYW50aWRhZFByb2R1Y3Rvc1NhbGEgPSBfdGhpczcucHJlc3RhbW9zU2FsYS5sZW5ndGg7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vRWxpbWluYXIgcHJvZHVjdG8gZGUgbGlzdGEgZGUgZGVzZW9zCiAgICBxdWl0YXJMaXN0YURlc2VvOiBmdW5jdGlvbiBxdWl0YXJMaXN0YURlc2VvKGlkKSB7CiAgICAgIHRoaXMuZGV0YWxsZVJlc2VydmEgPSB0aGlzLmRldGFsbGVSZXNlcnZhLmZpbHRlcihmdW5jdGlvbiAocikgewogICAgICAgIHJldHVybiByLmlkX3Byb2R1Y3RvICE9IGlkOwogICAgICB9KTsKICAgICAgdGhpcy50bXAgPSB0aGlzLnRtcC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gci5pZF9wcm9kdWN0byAhPSBpZDsKICAgICAgfSk7CiAgICB9LAogICAgLy9HdWFyZGFyIHJlc2VydmEKICAgIGd1YXJkYXJSZXNlcnZhOiBmdW5jdGlvbiBndWFyZGFyUmVzZXJ2YSgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICBpZiAodGhpcy50bXAubGVuZ3RoID09IDApIHsKICAgICAgICBjb25zb2xlLmxvZygnTk8gSEFZIFBST0RVQ1RPUyBQQVJBIFJFU0VSVkFSJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRtcC5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy50bXAuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgY29uc29sZS5sb2coJ0VMRU1FTlQnLCBlbGVtZW50KTsKICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9yZXNlcnZhcycsIHsKICAgICAgICAgICAgJ3Jlc2VydmEnOiBlbGVtZW50CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSRVNFUlZBIEdVQVJEQURBIEVYSVRPU0FNRU5URScpOwogICAgICAgICAgICAgIF90aGlzOC50bXAgPSBbXTsKICAgICAgICAgICAgICBfdGhpczguZGV0YWxsZVJlc2VydmEgPSBbXTsKICAgICAgICAgICAgICBfdGhpczgubW9kYWxTaG93MiA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzOC52YWx1ZSA9IHt9OwogICAgICAgICAgICAgIF90aGlzOC5tZW5zYWplID0gIlJlc2VydmEgaGEgc2lkbyByZWdpc3RyYWRhIGV4aXRvc2FtZW50ZSBlbiBudWVzdHJvIHNpc3RlbWEuIjsKCiAgICAgICAgICAgICAgX3RoaXM4LiRidlRvYXN0LnNob3coJ3RvYXN0X09rJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBfdGhpczgubWVuc2FqZSA9ICJFcnJvciBhbCBpbnRlbnRhciBndWFyZGFyIHJlc2VydmEuIjsKCiAgICAgICAgICAgIF90aGlzOC4kYnZUb2FzdC5zaG93KCd0b2FzdF9FcnJvcicpOwoKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXN0ZSBlcyBlbCBlcnJvciBkZXNkZSBndWFyZGFyIHJlc2VydmE6ICIsIGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbGltcGlhckZvcm11bGFyaW9SZWdpc3RybzogZnVuY3Rpb24gbGltcGlhckZvcm11bGFyaW9SZWdpc3RybygpIHsKICAgICAgLy8gTGltcGlhciBjYW1wb3MgZm9ybXVsYXJpbwogICAgICB0aGlzLmxlY3Rvci5ydXRfbGVjdG9yID0gJyc7CiAgICAgIHRoaXMubGVjdG9yLm5vbWJfbGVjID0gJyc7CiAgICAgIHRoaXMubGVjdG9yLmFwZV9sZWMgPSAnJzsKICAgICAgdGhpcy5sZWN0b3IuZGlyZWNjaW9uID0gJyc7CiAgICAgIHRoaXMubGVjdG9yLmNvcnJlb19sZWMgPSAnJzsKICAgICAgdGhpcy5sZWN0b3IuY29udHJhc2VuYV9sZWMgPSAnJzsKICAgICAgdGhpcy5sZWN0b3IudGVsX2xlYyA9ICcnOwogICAgICB0aGlzLmNvbmZpcm1hcmNsYXZlID0gJyc7CiAgICB9LAogICAgcmVnaXN0cmFyTGVjdG9yOiBmdW5jdGlvbiByZWdpc3RyYXJMZWN0b3IoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvbGVjdG9yZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsZWMgPSBbXTsKICAgICAgICBsZWMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGxlYy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBfdGhpczkuaWRMZWN0b3Jlcy5wdXNoKGVsZW1lbnQuaWRfbGVjdG9yKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF90aGlzOS5pZExlY3RvcmVzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBfdGhpczkubWF4SWRMZWN0b3IgPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczkubWF4SWRMZWN0b3IgPSBNYXRoLm1heC5hcHBseShudWxsLCBfdGhpczkuaWRMZWN0b3Jlcyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCdydXQuanMnKSwKICAgICAgICAgICAgdmFsaWRhdGUgPSBfcmVxdWlyZS52YWxpZGF0ZSwKICAgICAgICAgICAgY2xlYW4gPSBfcmVxdWlyZS5jbGVhbiwKICAgICAgICAgICAgZm9ybWF0ID0gX3JlcXVpcmUuZm9ybWF0LAogICAgICAgICAgICBnZXRDaGVja0RpZ2l0ID0gX3JlcXVpcmUuZ2V0Q2hlY2tEaWdpdDsgLy9WRVJJRklDQSBRVUUgRUwgUlVUIFNFQSBWQUxJRE8KCgogICAgICAgIGlmICh2YWxpZGF0ZShfdGhpczkubGVjdG9yLnJ1dF9sZWN0b3IpKSB7CiAgICAgICAgICAvLyBWRVJJRklDQSBRVUUgTEEgQ1VFTlRBIE5PIEVYSVNUQSBBTlRFUyBERSBSRUdJU1RSQVIKICAgICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xlY3RvcmVzP3J1dF9sZWN0b3I9IiArIGZvcm1hdChfdGhpczkubGVjdG9yLnJ1dF9sZWN0b3IpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgZGQgPSBbXTsKICAgICAgICAgICAgZGQgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyhkZCk7IC8vU0kgTEEgQ1VFTlRBIEVYSVNURSBFTlRPTkNFUyBNVUVTVFJBIExBIEFMRVJUQSBFTiBQQU5UQUxMQQoKICAgICAgICAgICAgaWYgKGRkWzBdLnJ1dF9sZWN0b3IpIHsKICAgICAgICAgICAgICBfdGhpczkubWVuc2FqZSA9ICJFbCBSdXQgaW5ncmVzYWRvIHlhIHNlIGVuY3VlbnRyYSByZWdpc3RyYWRvIGVuIG51ZXN0cm8gc2lzdGVtYS4iOwoKICAgICAgICAgICAgICBfdGhpczkuJGJ2VG9hc3Quc2hvdygndG9hc3RfRXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzOS5sZWN0b3IuaWRfbGVjdG9yID0gX3RoaXM5Lm1heElkTGVjdG9yICsgMTsgLy9ERU5UUk8gREVMIENBVENIIFNJR05JRklDQSBRVUUgTk8gRU5DT05UUsOTIEVMIFJVVCBFTiBMQSBCQi5ERCwgUE9SIExPIFRBTlRPIFNFIFBVRURFIFJFR0lTVFJBUi4KCiAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sZWN0b3JlcycsIHsKICAgICAgICAgICAgICAnbGVjdG9yJzogX3RoaXM5LmxlY3RvcgogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIC8vRU5WSUEgTEEgTk9USUZJQ0FDSU9OIERFIExBIENSRUFDSU9OIERFIExBIENVRU5UQSBQT1IgRU1BSUwKICAgICAgICAgICAgICBfdGhpczkuZW52aWFyRW1haWxDdWVudGFDcmVhZGEoKTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDEpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMRUNUT1IgUkVHSVNUUkFETyBFWElUT1NBTUVOVEUnKTsKICAgICAgICAgICAgICAgIF90aGlzOS5tb2RhbFNob3czID0gZmFsc2U7IC8vIExpbXBpYXIgY2FtcG9zIGZvcm11bGFyaW8KCiAgICAgICAgICAgICAgICBfdGhpczkubGltcGlhckZvcm11bGFyaW9SZWdpc3RybygpOwoKICAgICAgICAgICAgICAgIF90aGlzOS5tZW5zYWplID0gIlN1IGN1ZW50YSBzZSBoYSByZWdpc3RyYWRvIGV4aXRvc2FtZW50ZS4gUGFyYSBhY3RpdmFybGEsIHJldmlzZSBzdSBjb3JyZW8gZWxlY3Ryw7NuaWNvLiI7CgogICAgICAgICAgICAgICAgX3RoaXM5LiRidlRvYXN0LnNob3coJ3RvYXN0X09rJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBfdGhpczkubWVuc2FqZSA9ICJObyBzZSBoYSBwb2RpZG8gcmVnaXN0cmFyIHN1IGN1ZW50YS4gUG9yIGZhdm9yIHJldmlzZSBsb3MgZGF0b3MgaW5ncmVzYWRvcyBlIGludGVudGUgbnVldmFtZW50ZS4iOwoKICAgICAgICAgICAgICBfdGhpczkuJGJ2VG9hc3Quc2hvdygndG9hc3RfRXJyb3InKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM5Lm1lbnNhamUgPSAiRWwgUnV0IGluZ3Jlc2FkbyBubyBlcyB2YWxpZG8uIjsKCiAgICAgICAgICBfdGhpczkuJGJ2VG9hc3Quc2hvdygndG9hc3RfRXJyb3InKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVudmlhckVtYWlsQ3VlbnRhQ3JlYWRhOiBmdW5jdGlvbiBlbnZpYXJFbWFpbEN1ZW50YUNyZWFkYSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZnJvbV9uYW1lOiAiU2lzdGVtYSBCaWJsaW90ZWNoIiwKICAgICAgICB0b19lbWFpbDogdGhpcy5sZWN0b3IuY29ycmVvX2xlYywKICAgICAgICB0b19uYW1lOiB0aGlzLmxlY3Rvci5ub21iX2xlYywKICAgICAgICBtZXNzYWdlOiAiSW5mb3JtYW1vcyBxdWUgdHUgY3VlbnRhIGhhIHNpZG8gY3JlYWRhIGV4aXRvc2FtZW50ZS4gUGFyYSBwb2RlciB1dGlsaXphciB0dSBwZXJmaWwgZW4gZWwgc2lzdGVtYSBlcyBuZWNlc2FyaW8gcXVlIGFjdGl2ZXMgdHUgY3VlbnRhLiBQYXJhIGFjdGl2YXJsYSBkZWJlcyBoYWNlciBjbGljayBlbiBlbCBzaWd1aWVudGUgZW5sYWNlOiIsCiAgICAgICAgc3ViamVjdDogIlJlZ2lzdHJvIG51ZXZhIGN1ZW50YSBlbiAiCiAgICAgIH07CiAgICAgIGVtYWlsanMuc2VuZCgic2VydmljZV8zM3p3OTFtIiwgInRlbXBsYXRlX2p5eHF2cm4iLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS50ZXh0ID09PSAnT0snKSB7CiAgICAgICAgICBfdGhpczEwLm1lbnNhamUgPSAiRWwgY29ycmVvIHNlIGhhIGVudmlhZG8gZGUgZm9ybWEgZXhpdG9zYS4iOwoKICAgICAgICAgIF90aGlzMTAuJGJ2VG9hc3Quc2hvdygndG9hc3RfT2snKTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCJTVUNDRVNTLiBzdGF0dXM9JWQsIHRleHQ9JXMiLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnRleHQpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczEwLm1lbnNhamUgPSAiT2N1cnJpw7MgdW4gcHJvYmxlbWEgYWwgZW52aWFyIGVsIGNvcnJlby4iOwoKICAgICAgICBfdGhpczEwLiRidlRvYXN0LnNob3coJ3RvYXN0X0Vycm9yJyk7CgogICAgICAgIGNvbnNvbGUubG9nKCJGQUlMRUQuIGVycm9yPSIsIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGJvcnJhckZpbHRyb3M6IGZ1bmN0aW9uIGJvcnJhckZpbHRyb3MoKSB7CiAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKCk7CiAgICAgIHRoaXMuY2F0ZWdvcmlhID0gbnVsbDsKICAgICAgdGhpcy50aXBvcHJvZHVjdG8gPSBudWxsOwogICAgICB0aGlzLml0ZW0yID0gbnVsbDsKICAgIH0sCiAgICBtb3N0cmFyQm90b25MaXN0YTogZnVuY3Rpb24gbW9zdHJhckJvdG9uTGlzdGEoKSB7CiAgICAgIHRoaXMuc2hvd0Ryb3Bkb3duID0gdHJ1ZTsKICAgIH0sCiAgICBvY3VsdGFyQm90b25MaXN0YTogZnVuY3Rpb24gb2N1bHRhckJvdG9uTGlzdGEoKSB7CiAgICAgIHRoaXMuc2hvd0Ryb3Bkb3duID0gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlckxvZ2dlZDogZnVuY3Rpb24gdXNlckxvZ2dlZCgpIHsKICAgICAgcmV0dXJuIGF1dGguZ2V0VXNlckxvZ2dlZCgndXNlcicpOwogICAgfSwKICAgIGZvcm1hdGVhclJ1dExlY3RvcjogZnVuY3Rpb24gZm9ybWF0ZWFyUnV0TGVjdG9yKCkgewogICAgICB2YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgncnV0LmpzJyksCiAgICAgICAgICB2YWxpZGF0ZSA9IF9yZXF1aXJlMi52YWxpZGF0ZSwKICAgICAgICAgIGNsZWFuID0gX3JlcXVpcmUyLmNsZWFuLAogICAgICAgICAgZm9ybWF0ID0gX3JlcXVpcmUyLmZvcm1hdCwKICAgICAgICAgIGdldENoZWNrRGlnaXQgPSBfcmVxdWlyZTIuZ2V0Q2hlY2tEaWdpdDsKCiAgICAgIHRoaXMubGVjdG9yLnJ1dF9sZWN0b3IgPSBmb3JtYXQodGhpcy5sZWN0b3IucnV0X2xlY3Rvcik7CgogICAgICBpZiAoZm9ybWF0KHRoaXMubGVjdG9yLnJ1dF9sZWN0b3IpLmxlbmd0aCA+IDEwICYmIGZvcm1hdCh0aGlzLmxlY3Rvci5ydXRfbGVjdG9yKS5sZW5ndGggPCAxMykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0b3MnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpczExLnByb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Jlc2VydmFzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMxMS5yZXNlcnZhcyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICBfdGhpczExLnJlc2VydmFzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBfdGhpczExLmlkUmVzZXJ2YXMucHVzaChlbGVtZW50LmlkX3Jlc2VydmEpOwogICAgICB9KTsKCiAgICAgIGlmIChfdGhpczExLmlkUmVzZXJ2YXMubGVuZ3RoID09IDApIHsKICAgICAgICBfdGhpczExLm1heElkUmVzZXJ2YSA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMxMS5tYXhJZFJlc2VydmEgPSBNYXRoLm1heC5hcHBseShudWxsLCBfdGhpczExLmlkUmVzZXJ2YXMpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMucnV0ID0gSlNPTi5wYXJzZShhdXRoLmdldFVzZXJMb2dnZWQoJ3VzZXInKSkucnV0X2xlY3RvcjsKICAgIHRoaXMuZm90byA9IEpTT04ucGFyc2UoYXV0aC5nZXRVc2VyTG9nZ2VkKCd1c2VyJykpLmZvdG87CgogICAgaWYgKHRoaXMucnV0ICE9ICcnIHx8IHRoaXMucnV0ICE9IG51bGwpIHsKICAgICAgdGhpcy5vY3VsdGFyQm90b25JbmljaWFyKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm1vc3RyYXJCb3RvbkluaWNpYXIoKTsKICAgIH0KCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9jYXRlZ29yaWFzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIF90aGlzMTEuY2F0ZWdvcmlhcyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3RpcG9wcm9kdWN0b3MnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gX3RoaXMxMS50aXBvcHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["Catalogo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n<b-container fluid=\"1\">\n    <div id=\"main\" class=\"row flex-xl-nowrap2 mt-5 mb-2 pl-2 pr-2\">\n        <div class=\"bd-sidebar border-bottom-0 col-md-3 col-xl-2 col-12\">\n            <form class=\"bd-search d-flex align-items-center\">\n                <span class=\"algolia-autocomplete\">\n                    <h5 class=\"mt-3\" text-variant=\"light\">Búsqueda</h5>\n                    <!-- select filtro busqueda producto -->\n                    <b-form-input placeholder=\"Búsqueda Título\" class=\"mt-3\" type=\"search\" v-model=\"texto1\" :state=\"null\"></b-form-input>\n                    <b-form-input placeholder=\"Búsqueda Autor\" class=\"mt-3\" type=\"search\" v-model=\"texto2\" :state=\"null\"></b-form-input>\n                    <b-button class=\"mt-3 float-right\" variant='success' size=\"sm\" @click=\"filtroBuscarProducto()\">Buscar</b-button>\n                </span>\n            </form>\n            <nav class=\"bd-links d-none d-md-block\">\n                <ul class=\"nav bd-sidenav\">\n                    <li class=\"nav-item mt-5\"> Filtros de búsqueda\n                        <!-- select filtro tipo producto -->\n                        <b-form-select class=\"mt-3\" v-model=\"tipoproducto\" :options=\"tipoproductos\" value-field=\"id_tipo_prod\" text-field=\"desc_t_prod\" size=\"sm\" @change=\"cargarFiltroTipoProducto()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Tipo Producto</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                            \n                        <!-- select filtro categoria producto -->\n                        <b-form-select class=\"mt-3\" v-model=\"categoria\" :options=\"categorias\" value-field=\"id_categoria\" text-field=\"desc_cat\" size=\"sm\" @change=\"cargarFiltroCategoria()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Categor&iacute;a Producto</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                        <!-- select filtro lugar prestamo -->\n                        <b-form-select class=\"mt-3\" v-model=\"item2\" :options=\"lugarPrestamo\" value-field=\"text\" text-field=\"text\" size=\"sm\" @change=\"cargarFiltroLugar()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Lugar Pr&eacute;stamo</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                        <!-- Borrar filtros -->\n                        <b-button id=\"borrarfiltro\" class=\"mt-5\" block variant=\"dark\" @click=\"borrarFiltros()\">Borrar Filtros</b-button>\n                    </li>                    \n                </ul>\n            </nav>\n        </div>\n        <div class=\"bd-content col-md-10 col-xl-10 col-12 pb-md-3 pl-md-5\">\n            \n            <b-row class=\" mr-5\">\n                <b-col>\n                    <b-button class=\"float-right\" variant='info' small v-show=\"showBtnIniciar\" @click='iniciar()'>Iniciar Sesión</b-button>\n                    <b-button class=\"float-right mr-3\" variant='outline-info' small v-show=\"showBtnRegistrar\" v-b-modal.modalRegistrarLector>Registrarse</b-button>\n                </b-col>\n            </b-row>\n            <b-row class=\"mt-4\">\n                <b-col>\n                    <b-dropdown size=\"lg\" text=\"Dropdown Button\" variant=\"info\" v-show=\"btnSesion\"\n                    toggle-class=\"text-decoration-none\">\n                        <template #button-content>\n                            <b-avatar variant=\"light\" :src=\"foto\" size=\"3rem\"></b-avatar><span class=\"ml-2\">{{rut}}</span>\n                        </template>\n                        <b-dropdown-item variant=\"primary\" @click=\"cerrarSesion\">Cerrar Sesión</b-dropdown-item>\n                    </b-dropdown>\n                </b-col>\n                <b-col align=\"right\">\n                    <b-dropdown name=\"dropdown1\" id=\"dropdown1\" v-show=\"showDropdown\"\n                    :text=\"'Lista de deseos ('+tmp.length+')'\" class=\"m-md-2\" variant=\"warning\">                        \n                        <b-dropdown-item v-b-modal.modalDetalleReserva>Ir a reservar</b-dropdown-item>                        \n                    </b-dropdown>\n                </b-col>\n            </b-row>\n            <!-- BCARD PRODUCTO -->\n            <b-row class=\"mt-3\">\n                <b-card-group columns>            \n                    <b-card\n                        :sub-title=\"item.desc_prod\"\n                        :img-src=\"item.foto_producto\"\n                        :img-alt=\"item.titulo\"\n                        img-top\n                        img-height=\"350\"\n                        style=\"max-width: 25rem;\"            \n                        class=\"mb-4\"\n                        v-for=\"item in productos\" :key=\"item.id_producto\" >\n                        <template #header>\n\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t<b-col><h5>{{item.titulo}}</h5></b-col>\n\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t\t<template v-if=\"item.cantidad==0\">\n\t\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t\t<b-col><small class=\"text-danger\"><span >Sin Stock</span></small></b-col>\n\t\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t\t<b-col><small class=\"text-muted\">Disponible:</small><small class=\"text-muted ml-1\">{{item.cantidad}}</small></b-col>\n\t\t\t\t\t\t\t\t</b-row>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\n                        </template>\n\n                        <b-row class=\"mt-2\">\n                            <b-col><b-link v-b-modal.modalDetalleProducto @click=\"buscarProducto(item.id_producto)\" href=\"\">Ver detalle >></b-link></b-col>                                \n                        </b-row>                        \n\n                        <template #footer>\n                            <template v-if=\"item.cantidad==0\">\n\n                                <b-row>\n                                    <b-col align=\"right\">\n                                        <b-row>\n\t\t\t\t\t\t\t\t\t\t\t<b-col cols=\"6.5\" class=\"pl-3\">\n                                                <b-form-datepicker disabled placeholder=\"Fecha reserva\" size=\"sm\" v-model=\"value[item.id_producto]\"\n\t\t\t\t\t\t\t\t\t\t\t    :min=\"min\" :max=\"max\" locale=\"\" :state=\"null\"\n\t\t\t\t\t\t\t\t\t\t\t    :date-format-options=\"{ year: 'numeric', month: 'numeric', day: 'numeric' }\"></b-form-datepicker>\n                                            </b-col>\n\t\t\t\t\t\t\t\t\t\t\t<b-col>\n                                                <b-button disabled class=\"float-right\" variant='primary' size=\"sm\"\n                                                @click=\"anadirProducto(item.id_producto,value[item.id_producto])\">\n                                                A&ntilde;adir a la lista</b-button>\n                                            </b-col>\n\t\t\t\t\t\t\t\t\t\t</b-row>\n                                    </b-col>\n                                </b-row>\n\n                            </template>\n                            <template v-else>\n\n                                <b-row>\n                                    <b-col align=\"right\">\n\t\t\t\t\t\t\t\t\t\t<b-row>\n\t\t\t\t\t\t\t\t\t\t\t<b-col cols=\"6.5\" class=\"pl-3\">\n                                                <b-form-datepicker placeholder=\"Fecha reserva\" size=\"sm\" v-model=\"value[item.id_producto]\" \n\t\t\t\t\t\t\t\t\t\t\t    :min=\"min\" :max=\"max\" locale=\"\" :state=\"null\" :disabled=\"btnAnadirLista.estadoFecha[item.id_producto] ? true:false\"\n\t\t\t\t\t\t\t\t\t\t\t    :date-format-options=\"{ year: 'numeric', month: 'numeric', day: 'numeric',  }\"></b-form-datepicker>\n                                            </b-col>\n\t\t\t\t\t\t\t\t\t\t\t<b-col>\n                                                <b-button class=\"float-right\" variant='primary' size=\"sm\" :disabled=\"btnAnadirLista.estado[item.id_producto] ? true:false\"\n                                                @click=\"anadirProducto(item.id_producto,value[item.id_producto])\">\n                                                {{btnAnadirLista.texto[item.id_producto] ? ' Añadido':'Añadir a la lista' }}</b-button>\n                                            </b-col>\n\t\t\t\t\t\t\t\t\t\t</b-row>\n                                    </b-col>\n                                </b-row>\n\n                            </template>\n\n                        </template>\n                    </b-card>            \n                </b-card-group>\n            </b-row>\n\n            <!-- Modal Detalle Producto -->\n            <div id=\"divDetalle\" name=\"divDetalle\">\n                <template>\n                    <b-modal id=\"modalDetalleProducto\" name=\"modalDetalleProducto\" size=\"lg\" no-close-on-esc scrollable centered :title='item.titulo' \n                        v-model='modalShow1' header-bg-variant='primary' header-text-variant='light' no-close-on-backdrop hide-header-close\n                        footer-bg-variant=\"light\">\n                        <b-container fluid>\n                                <b-row>\n                                    <b-col cols=\"6\">\n                                        <b-img fluid style=\"height:400px\" :src=\"producto.foto_producto\"></b-img>\n                                    </b-col>\n                                    \n                                    <b-col cols=\"4\">\n                                        <b-row>\n                                            <b-col>\n                                                <h1>{{producto.titulo}}</h1>\n                                                <h4>{{producto.desc_prod}}</h4>\n                                                <p>por: {{producto.autor}}</p>\n                                            </b-col>                                        \n                                        </b-row>\n                                        <b-row class=\"mt-3\">\n                                            <b-col align=\"center\">\n                                                <b-card>\n                                                    <b-row><small>Id: {{producto.id_producto}}</small></b-row>                                                \n                                                    <b-row><small>Editorial: {{producto.editorial}}</small></b-row>\n                                                    <b-row><small>Edición: {{producto.edicion}}</small></b-row>\n                                                    <b-row><small>Año edición: {{producto.anno_edic}}</small></b-row>\n                                                    <b-row><small>Duración: {{producto.duracion}}</small></b-row>\n                                                    <b-row><small>Tiempo de préstamo (HRS): {{producto.tiempo_prest}}</small></b-row>\n                                                    <b-row><small>Préstamo a: {{producto.lugar_prest}}</small></b-row>                                                \n                                                    <b-row><small>Id Categoría: {{producto.id_categoria}}</small></b-row>\n                                                    <b-row><small>Ubicación: {{producto.id_ubicacion}}</small></b-row>\n                                                </b-card>\n                                            </b-col>                                        \n                                        </b-row>                                                                        \n                                    </b-col>\n                                </b-row>\n                                <b-row>\n                                    <b-col></b-col>\n                                </b-row>\n                        </b-container>\n                        <template #modal-footer>\n                            <div class=\"w-100\">\n                                <span class=\"float-left text-muted\">Cantidad Disponible: {{producto.cantidad}}</span>\n\n                                <template v-if=\"producto.lugar_prest=='Sala' || producto.lugar_prest=='Sala y Domicilio'\">\n                                    <span class=\"text-info ml-5\">Pr&eacute;stamos en sala:</span><span class=\"text-info ml-1\">{{cantidadProductosSala}}</span>\n                                </template>\n                                \n                                <b-button class=\"float-right\" variant='primary' small @click='modalShow1 = !modalShow1'>Cerrar</b-button>\n                            </div>                                                \n                        </template>\n                    </b-modal>\n                </template>\n            </div>\n\n            <!-- Modal Detalle Reserva -->\n            <div id=\"divDetalle\" name=\"divDetalle\">\n                <template>\n                    <b-modal id=\"modalDetalleReserva\" name=\"modalDetalleReserva\" size=\"lg\" no-close-on-esc scrollable centered title='Lista de deseos' \n                        v-model='modalShow2' header-bg-variant='primary' header-text-variant='light' no-close-on-backdrop hide-header-close\n                        footer-bg-variant=\"light\">\n                        <b-container fluid>\n                            <div v-if=\"detalleReserva.length>0\">\n                                <b-row class=\"mt-5\" v-for=\"item1 in detalleReserva\" :key=\"item1.id_producto\">\n                                    <b-col align=\"right\" cols=\"2\">\n                                        <b-button size=\"sm\" variant=\"danger\" @click=\"quitarListaDeseo(item1.id_producto)\">X</b-button>\n                                    </b-col>\n                                    \n                                    <b-card no-body class=\"overflow-hidden\" style=\"width: 600px;\" bg-variant=\"light\">                                                                                              \n                                        <b-row>\n                                            <b-col cols=\"4\">\n                                                <b-card-img :src=\"item1.foto_producto\" :alt=\"item1.titulo\" height=\"200\" ></b-card-img>\n                                            </b-col>\n                                            <b-col cols=\"8\">\n                                                <b-row>\n                                                    <b-col>\n                                                        <b-card-body :title=\"item1.titulo\">\n                                                            <b-card-text>{{item1.desc_prod}}</b-card-text>\n                                                            <b-card-text> <b-link>Cantidad: 1</b-link></b-card-text>\n                                                        </b-card-body>\n                                                    </b-col>                                            \n                                                </b-row>                                        \n                                            </b-col>\n                                        </b-row>                                                                                       \n                                    </b-card>                            \n                                </b-row>\n                            </div>\n                            <div v-else>\n                                <b-row>\n                                    <b-col align=\"center\">\n                                        <h4>Lista Vacía</h4>\n                                        <p>Vuelva al Catálogo y seleccione según su interés.</p>\n                                    </b-col>\n                                </b-row>                            \n                            </div>\n                            \n                        </b-container>\n                        <template #modal-footer>\n                            <div class=\"w-100\">\n                                <b-row>\n                                    <b-col align=\"right\">\n                                        <b-button variant='secondary' style=\"width: 4rem;\" size=\"sm\" @click='modalShow2 = !modalShow2'>Cerrar</b-button>\n                                        <b-button class=\"ml-3\" style=\"width: 8rem;\" variant='primary' size=\"sm\" @click=\"guardarReserva()\">Reservar</b-button>\n                                    </b-col>                                        \n                                </b-row>                                    \n                            </div>                                                \n                        </template>\n                    </b-modal>\n                </template>\n            </div>\n\n            <!-- Modal Registrar Lector -->\n            <div id=\"divRegistrarLector\" name=\"divRegistrarLector\">\n                <template>\n                    <b-modal id=\"modalRegistrarLector\" name=\"modalRegistrarLector\" size=\"lg\" no-close-on-esc scrollable centered title='Registrar nueva cuenta' \n                        v-model='modalShow3' header-bg-variant='primary' header-text-variant='light' no-close-on-backdrop hide-header-close\n                        footer-bg-variant=\"light\">\n                        <b-container fluid=\"\">\n                            <b-row>\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Rut:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: 12.345.678-9\" type=\"text\" v-model=\"lector.rut_lector\" :state=\"formatearRutLector\" size=\"sm\" autofocus></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Nombre:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: Pedro\" type=\"text\" v-model=\"lector.nomb_lec\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Apellido:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: Arriagada\" type=\"text\" v-model=\"lector.ape_lec\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Direcci&oacute;n:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: Calle nueva 1390\" type=\"text\" v-model=\"lector.direccion\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Email:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: pedroarriagada@mail.com\" type=\"email\" v-model=\"lector.correo_lec\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Tel&eacute;fono:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" placeholder=\"ej: 987654321\" type=\"text\" v-model=\"lector.tel_lec\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Contrase&ntilde;a:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" type=\"password\" v-model=\"lector.contrasena_lec\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col><span>Repita Contrase&ntilde;a:</span></b-col><b-col cols=\"7\"><b-form-input class=\"ml-4\" type=\"password\" v-model=\"confirmarclave\" :state=\"null\" size=\"sm\"></b-form-input></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                        </b-container>\n                        <template #modal-footer>\n                            <div class=\"w-100\">\n                                <b-row>\n                                    <b-col align=\"right\">\n                                        <b-button variant='secondary' style=\"width: 4rem;\" size=\"sm\" @click=\"modalShow3 = !modalShow3, limpiarFormularioRegistro()\">Cerrar</b-button>\n                                        <b-button class=\"ml-3\" style=\"width: 8rem;\" variant='primary' size=\"sm\" @click=\"registrarLector()\">Registrar</b-button>\n                                    </b-col>                                        \n                                </b-row>                                    \n                            </div>                                                \n                        </template>\n                    </b-modal>\n                </template>\n            </div>\n            \n        </div>\n        <b-toast id=\"toast_Ok\" variant=\"success\" solid toaster=\"b-toaster-top-center\">\n            <template #toast-title>\n                <div class=\"d-flex flex-grow-1 align-items-baseline\">\n                <b-img blank blank-color=\"#5cb85c\" class=\"mr-2\" width=\"12\" height=\"12\"></b-img>\n                <strong class=\"mr-auto\">Información!</strong>                    \n                </div>\n            </template>\n            {{mensaje}}\n        </b-toast>\n\t\t<b-toast id=\"toast_Error\" variant=\"danger\" solid toaster=\"b-toaster-top-center\">\n            <template #toast-title>\n                <div class=\"d-flex flex-grow-1 align-items-baseline\">\n                <b-img blank blank-color=\"#d9534f\" class=\"mr-2\" width=\"12\" height=\"12\"></b-img>\n                <strong class=\"mr-auto\">Información!</strong>                    \n                </div>\n            </template>\n            {{mensaje}}\n        </b-toast>\n    </div>\n</b-container>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nimport auth from \"@/logica/auth\";\nimport emailjs from 'emailjs-com';\nimport{ init } from 'emailjs-com';\ninit(\"user_mA5SdDw3wIaNsBSflyelz\");\nexport default {\n    name: 'Catalogo',\n    data(){\n\n        const now = new Date()\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n        // Fecha de Hoy\n        const minDate = new Date(today)\n        minDate.setDate(today.getDate())\n        //minDate.setDate(15)\n\n        // 15 dias despues\n        const maxDate = new Date(today)\n        maxDate.setDate(minDate.getDate() + 15)\n        //maxDate.setDate(15)\n\n        return{\n            rut: '',\n            foto: '',\n            showBtnIniciar: true,\n            showBtnRegistrar: true,\n            btnSesion: false,\n\n            value: {},\n            min: minDate,\n            max: maxDate,\n            \n            item: '',\n            item1: '',\n            item2: null,\n            categoria: null,\n            tipoproducto: null,\n            selected: '',\n            texto1: '',\n            texto2: '',\n            cantidadProductosSala: 0,\n\n            btnAnadirLista:{\n                estado: {},\n                estadoFecha: {},\n                texto: {}\n            },\n\n\t\t\tmensaje: '',\n\n            confirmarclave: '',\n            modalShow1: false,\n            modalShow2: false,\n            modalShow3: false,\n            showDropdown: false,\n            select: null,\n            categorias: [],\n            xbusqueda: [],\n            xcategorias: [],\n            tipoproductos: [],\n            xtipoproductos: [],\n            lugar: [],\n            productos:[],            \n            tmp: [],\n            detalleProducto:[],\n            detalleReserva: [],\n            reservas: [],\n            prestamosSala: [],\n\n            idReservas: [],\n            maxIdReserva: [],\n\t\t\tidLectores: [],\n            maxIdLector: [],\n\n\n            lugarPrestamo:[                \n                {value:1,text:'Sala'},\n                {value:2,text:'Sala y Domicilio'}\n            ],\n            producto: {\n                id_producto: null,\n                desc_prod: '',\n                titulo: '',\n                autor: '',\n                editorial: '',\n                edicion: '',\n                anno_edic: null,\n                duracion: '',\n                tiempo_prest: null,\n                lugar_prest: null,\n                cantidad: null,\n                id_categoria: null,\n                id_ubicacion: null,\n                foto_producto: ''\n            },\n            lector: {\n                rut_lector: '',\n                nomb_lec: '',\n                ape_lec: '',\n                direccion: '',\n                correo_lec: '',\n                contrasena_lec:'',\n                tel_lec: '',\n\t\t\t\tactivo: 'I',\n\t\t\t\tfoto: '',\n\t\t\t\thuella: '',\n\t\t\t\tid_lector: null\n            }\n        }\n    },    \n    created(){\n        this.cargarProductos();\n\n\t\tif (auth.getUserLogged('user').rut_lector != '' || auth.getUserLogged('user').rut_lector != null) {\n            this.mostrarBotonLista();\n        } else {\n\t\t\tthis.ocultarBotonLista();\n\t\t}\n\n        //this.btnAnadirLista.texto = \"Añadir a la lista\"\n    },\n    methods:{\n        mostrarBotonIniciar(){\n\t\t\tthis.showBtnIniciar = true\n            this.showBtnRegistrar = true\n            this.btnSesion = false\n        },\n        ocultarBotonIniciar(){\n            this.showBtnIniciar = false\n            this.showBtnRegistrar = false\n            this.btnSesion = true\n        },\n        iniciar(){\n            this.ocultarBotonIniciar();\n            this.$router.push(\"/login\");\n        },\n        cerrarSesion(){\n            auth.deleteUserLogged('user');\n            this.rut = '';\n            this.contrasena = '';\n            this.foto = '';\n            this.$router.push(\"/login\");\n        },\n        filtroBuscarProducto(){    \n            let url;\n            url = \"http://localhost:3000/productos?lugar_prest=\"+this.item2\n            url += \"&titulo=\" + this.texto1\n            url += \"&autor=\" + this.texto2\n            url += \"&id_categoria=\" + this.categoria\n            axios.get(url).then(response => this.productos = response.data);\n        },\n        //Filtrar productos por Tipo  de Producto\n        cargarFiltroTipoProducto(){   \n                   \n            axios.get('http://localhost:3000/categorias?id_tipo_prod='+ this.tipoproducto).then(response => {\n                var datos= [];  \n                this.xtipoproductos = response.data\n                this.xtipoproductos.forEach(element => {\n                    axios.get('http://localhost:3000/productos?id_categoria='+ element.id_categoria).then(response => {\n                        this.xcategorias = response.data\n                        this.xcategorias.forEach(subelement => {                                       \n                            datos.push(subelement);\n                        });\n                    });\n                });\n                this.productos = datos;\n            });\n        },\n        //Filtrar productos por Categoria\n        cargarFiltroCategoria(){\n            axios.get('http://localhost:3000/productos?id_categoria='+ this.categoria).then(response => this.productos = response.data);\n        },\n        //Filtrar productos por Lugar de Préstamo\n        cargarFiltroLugar(){\n            axios.get('http://localhost:3000/productos?lugar_prest='+ this.item2).then(response => this.productos = response.data);\n        },\n        //Cargar todos los Productos\n        cargarProductos(){\n            axios.get('http://localhost:3000/productos').then(response => this.productos = response.data);\n        },\n        // Añadir Producto a la lista de deseos\n        anadirProducto(id,val){\n            //moment.locale();\n            var horaMinuto = moment().format('HH:mm');\n            var unirFechaHora = Date.parse( val+\" \"+horaMinuto);\n            var fechaCompleta = moment(unirFechaHora).format('YYYY-MM-DD HH:mm');\n            this.maxIdReserva = this.maxIdReserva + 1;\n\t\t\t\n\t\t\tif (val) {\n\t\t\t\ttry {                \n\t\t\t\t\tthis.tmp.push({rut_lector:JSON.parse(auth.getUserLogged('user')).rut_lector, fecha_reserva:fechaCompleta, id_producto:id, id_reserva:this.maxIdReserva});\n                    this.btnAnadirLista.estado[id] = true;\n                    this.btnAnadirLista.estadoFecha[id] = true;\n                    this.btnAnadirLista.texto[id] = true;\n\n\t\t\t\t\taxios.get('http://localhost:3000/productos/'+id)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tthis.detalleReserva.push(response.data)                    \n\t\t\t\t\t});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('ESTE ES EL ERROR:   ',error);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.mensaje = \"Para añadir a la lista debe seleccionar fecha de reserva.\";\n\t\t\t\tthis.$bvToast.show('toast_Error');\n\t\t\t}\n            /*\n            console.log(\"QUE ESTOY GUARDANDO EN LA LISTA DE DESEOS: FECHA RESERVA >> \", fechaCompleta);\n            console.log(\"FECHA Y HORA: \", fechaCompleta );\n            console.log(\"FECHA Y HORA: \", Date(fechaCompleta) );\n            */\n        },\n        // Buscar producto por el ID_PRODUCTO\n        buscarProducto(id){\n            this.cantidadProductosSala = 0;\n            axios.get('http://localhost:3000/productos/'+id)\n            .then(response => {\n                this.detalleProducto = response.data\n                \n                this.producto.id_producto=this.detalleProducto.id_producto\n                this.producto.desc_prod=this.detalleProducto.desc_prod\n                this.producto.titulo=this.detalleProducto.titulo\n                this.producto.autor=this.detalleProducto.autor\n                this.producto.editorial=this.detalleProducto.editorial\n                this.producto.edicion=this.detalleProducto.edicion\n                this.producto.anno_edic=this.detalleProducto.anno_edic\n                this.producto.duracion=this.detalleProducto.duracion\n                this.producto.tiempo_prest=this.detalleProducto.tiempo_prest\n                this.producto.lugar_prest=this.detalleProducto.lugar_prest\n                this.producto.cantidad=this.detalleProducto.cantidad\n                this.producto.id_categoria=this.detalleProducto.id_categoria\n                this.producto.id_ubicacion=this.detalleProducto.id_ubicacion\n                this.producto.foto_producto=this.detalleProducto.foto_producto\n                console.log(\"REVISANDO ID_PRODUCTO: \",this.producto.id_producto);\n\n                //http://localhost:3000/detalleprestamos?lugar=\n                axios.get('http://localhost:3000/detalleprestamos?lugar=Sala&id_producto='+this.producto.id_producto).then(response => {\n                    this.prestamosSala = response.data;\n                    this.cantidadProductosSala = this.prestamosSala.length;\n                });\n            });\n        },\n        //Eliminar producto de lista de deseos\n        quitarListaDeseo(id){            \n            this.detalleReserva = this.detalleReserva.filter( (r) => { return r.id_producto != id });\n            this.tmp = this.tmp.filter( (r) => { return r.id_producto != id });\n        },\n        //Guardar reserva\n        guardarReserva(){\n            if(this.tmp.length==0)\n            {\n                console.log('NO HAY PRODUCTOS PARA RESERVAR');\n            }\n            if(this.tmp.length>0)\n            {\n                this.tmp.forEach(element => {\n                    console.log('ELEMENT',element);                    \n                    axios.post('http://localhost:3000/reservas',{'reserva':element})\n                    .then(response => {\n                        if(response.status==201)\n                        {\n                            console.log('RESERVA GUARDADA EXITOSAMENTE');\n                            this.tmp= [];\n                            this.detalleReserva = [];\n                            this.modalShow2 = false;\n                            this.value= {};\n\n                            this.mensaje = \"Reserva ha sido registrada exitosamente en nuestro sistema.\";\n\t\t\t\t\t\t\tthis.$bvToast.show('toast_Ok');\n                        }\n                    })\n                    .catch(error => {\n\t\t\t\t\t\tthis.mensaje = \"Error al intentar guardar reserva.\";\n\t\t\t\t\t\tthis.$bvToast.show('toast_Error');\n            \n                        console.error(\"Este es el error desde guardar reserva: \",error);\n                    });\n                });\n            }\n        },\n        limpiarFormularioRegistro(){\n            // Limpiar campos formulario\n            this.lector.rut_lector = '';\n            this.lector.nomb_lec = '';\n            this.lector.ape_lec = '';\n            this.lector.direccion = '';\n            this.lector.correo_lec = '';\n            this.lector.contrasena_lec = '';\n            this.lector.tel_lec = '';\n            this.confirmarclave = '';\n        },\n        registrarLector(){\n\n\t\t\taxios.get('http://localhost:3000/lectores').then(response => {\n\t\t\t\tlet lec = []\n\t\t\t\tlec = response.data\n\t\t\t\tlec.forEach(element => {\n\t\t\t\t\tthis.idLectores.push(element.id_lector)\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (this.idLectores.length == 0) {\n\t\t\t\t\tthis.maxIdLector = 1;\n\t\t\t\t} else {\n\t\t\t\t\tthis.maxIdLector = Math.max.apply(null, this.idLectores);\n\t\t\t\t}\n\n\t\t\t\tconst { validate, clean, format, getCheckDigit } = require('rut.js');\n\t\n\t\t\t\t//VERIFICA QUE EL RUT SEA VALIDO\n\t\t\t\tif (validate(this.lector.rut_lector)) {\n\t\t\t\t\t// VERIFICA QUE LA CUENTA NO EXISTA ANTES DE REGISTRAR\n\t\t\t\t\taxios.get(\"http://localhost:3000/lectores?rut_lector=\" + format(this.lector.rut_lector)).then(response => {\n\t\t\t\t\t\tlet dd=[];\n\t\t\t\t\t\tdd= response.data;\n\t\t\t\t\t\tconsole.log(dd);\n\t\t\t\t\t\t//SI LA CUENTA EXISTE ENTONCES MUESTRA LA ALERTA EN PANTALLA\n\t\t\t\t\t\tif (dd[0].rut_lector) {\n\t\t\t\t\t\t\tthis.mensaje = \"El Rut ingresado ya se encuentra registrado en nuestro sistema.\";\n\t\t\t\t\t\t\tthis.$bvToast.show('toast_Error');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.lector.id_lector = this.maxIdLector+1;\n\n\t\t\t\t\t\t//DENTRO DEL CATCH SIGNIFICA QUE NO ENCONTRÓ EL RUT EN LA BB.DD, POR LO TANTO SE PUEDE REGISTRAR.\n\t\t\t\t\t\taxios.post('http://localhost:3000/lectores',{'lector':this.lector})\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t//ENVIA LA NOTIFICACION DE LA CREACION DE LA CUENTA POR EMAIL\n\t\t\t\t\t\t\tthis.enviarEmailCuentaCreada();\n\t\t\t\t\t\t\tif(response.status==201)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log('LECTOR REGISTRADO EXITOSAMENTE');\n\t\t\t\t\t\t\t\tthis.modalShow3 = false;\n\t\t\t\t\t\t\t\t// Limpiar campos formulario\n\t\t\t\t\t\t\t\tthis.limpiarFormularioRegistro();\n\n\t\t\t\t\t\t\t\tthis.mensaje = \"Su cuenta se ha registrado exitosamente. Para activarla, revise su correo electrónico.\";\n\t\t\t\t\t\t\t\tthis.$bvToast.show('toast_Ok');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tthis.mensaje = \"No se ha podido registrar su cuenta. Por favor revise los datos ingresados e intente nuevamente.\";\n\t\t\t\t\t\t\tthis.$bvToast.show('toast_Error');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.mensaje = \"El Rut ingresado no es valido.\";\n\t\t\t\t\tthis.$bvToast.show('toast_Error');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t});\n        },\n        enviarEmailCuentaCreada(){\n\n            let data = {\n                from_name: \"Sistema Bibliotech\",\n                to_email: this.lector.correo_lec,\n                to_name: this.lector.nomb_lec,\n                message: \"Informamos que tu cuenta ha sido creada exitosamente. Para poder utilizar tu perfil en el sistema es necesario que actives tu cuenta. Para activarla debes hacer click en el siguiente enlace:\",\n                subject: \"Registro nueva cuenta en \",\n            };\n            \n            emailjs.send(\"service_33zw91m\",\"template_jyxqvrn\", data)\n            .then(response => {\n                if(response.text === 'OK'){\n\t\t\t\t\tthis.mensaje = \"El correo se ha enviado de forma exitosa.\";\n\t\t\t\t\tthis.$bvToast.show('toast_Ok');\n                }\n                console.log(\"SUCCESS. status=%d, text=%s\", response.status, response.text);\n            })\n            .catch(error => {\n\t\t\t\tthis.mensaje = \"Ocurrió un problema al enviar el correo.\";\n                this.$bvToast.show('toast_Error');\n                console.log(\"FAILED. error=\", err);\n            });\n        },\n        borrarFiltros(){\n            this.cargarProductos();\n            this.categoria = null;\n            this.tipoproducto = null;\n            this.item2= null;\n        },\n        mostrarBotonLista(){\n            this.showDropdown = true\n        },\n        ocultarBotonLista(){\n            this.showDropdown = false\n        }\n    },\n    computed:{\n        userLogged(){\n            return auth.getUserLogged('user');      \n        },\n\t\tformatearRutLector(){\n\t\t\tconst { validate, clean, format, getCheckDigit } = require('rut.js')\n\t\t\tthis.lector.rut_lector= format(this.lector.rut_lector);\n            if (format(this.lector.rut_lector).length > 10 && format(this.lector.rut_lector).length < 13) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    },\n    mounted : function(){\n\n        axios.get('http://localhost:3000/productos').then(response => {\n            this.productos = response.data\n        });\n\n        axios.get('http://localhost:3000/reservas').then(response => {\n            this.reservas = response.data\n            this.reservas.forEach(element => {\n                this.idReservas.push(element.id_reserva)\n            });\n            \n            if (this.idReservas.length == 0) {\n                this.maxIdReserva = 1;\n            } else {\n                this.maxIdReserva = Math.max.apply(null, this.idReservas);\n            }\n        });\n\n        this.rut = JSON.parse(auth.getUserLogged('user')).rut_lector;\n        this.foto = JSON.parse(auth.getUserLogged('user')).foto;\n\n        if (this.rut != '' || this.rut != null) {\n            this.ocultarBotonIniciar();\n        } else {\n\t\t\tthis.mostrarBotonIniciar();\n\t\t}\n        \n        axios.get('http://localhost:3000/categorias').then(response => this.categorias = response.data);\n        axios.get('http://localhost:3000/tipoproductos').then(response => this.tipoproductos = response.data);\n\t\t\n    }\n}\n</script>\n\n<style scoped>\n    b-img{\n        width:60px;\n        height:60px;\n    }\n    .bd-sidebar {\n        max-height: 30rem;\n        background-color: #17a2b8;\n        color: #f7f7f7;\n    }    \n</style>"],"sourceRoot":"src/views"}]}