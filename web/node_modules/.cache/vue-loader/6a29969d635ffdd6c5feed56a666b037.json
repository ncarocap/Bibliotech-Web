{"remainingRequest":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Login.vue","mtime":1626295208896},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KICAgIAovLyBpbXBvcnQgJ3Z1ZS10b2FzdC1ub3RpZmljYXRpb24vZGlzdC90aGVtZS1zdWdhci5jc3MnOwppbXBvcnQgYXV0aCBmcm9tICJAL2xvZ2ljYS9hdXRoIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGVtYWlsanMgZnJvbSAnZW1haWxqcy1jb20nOwppbXBvcnR7IGluaXQgfSBmcm9tICdlbWFpbGpzLWNvbSc7CmluaXQoInVzZXJfbUE1U2REdzN3SWFOc0JTZmx5ZWx6Iik7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBjcmVhdGVkKCl7ICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGl0ZW1JZDogbnVsbCwKICAgICAgICAgICAgbWVuc2FqZTogJycsCiAgICAgICAgICAgIHRleHRvOiAnJywKICAgICAgICAgICAgcnV0X2xlY3RvcjogJycsCiAgICAgICAgICAgIGNvbnRyYXNlbmFfbGVjOiAnJywKICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICBmb3RvOiAnJywKICAgICAgICAgICAgYWN0aXZvOiAnJywKICAgICAgICAgICAgbW9kYWxTaG93OiBmYWxzZSwKICAgICAgICAgICAgZGF0b3M6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGluaWNpYXJTZXNpb24oKXsKICAgICAgICAgICAgY29uc3QgeyB2YWxpZGF0ZSwgY2xlYW4sIGZvcm1hdCwgZ2V0Q2hlY2tEaWdpdCB9ID0gcmVxdWlyZSgncnV0LmpzJykKICAgICAgICAgICAgdHJ5IHsKCiAgICAgICAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sZWN0b3Jlcz9ydXRfbGVjdG9yPSIgKyBmb3JtYXQodGhpcy5ydXRfbGVjdG9yKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvcyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gewogICAgICAgICAgICAgICAgICAgICAgICBydXRfbGVjdG9yOiBmb3JtYXQodGhpcy5ydXRfbGVjdG9yKSwKICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhc2VuYV9sZWM6IHRoaXMuY29udHJhc2VuYV9sZWMsCiAgICAgICAgICAgICAgICAgICAgICAgIGZvdG86dGhpcy5kYXRvc1swXS5mb3RvLAogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpdm86dGhpcy5kYXRvc1swXS5hY3Rpdm8KICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGUodGhpcy5ydXRfbGVjdG9yKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZvcm1hdCh0aGlzLnJ1dF9sZWN0b3IpID09IHRoaXMuZGF0b3NbMF0ucnV0X2xlY3RvcikgJiYgKHRoaXMuY29udHJhc2VuYV9sZWMgPT0gdGhpcy5kYXRvc1swXS5jb250cmFzZW5hX2xlYykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5kYXRvc1swXS5hY3Rpdm8gPT0gJ0EnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGguc2V0VXNlckxvZ2dlZCh1c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnNhamUgPSAiQWNjZXNvIERlbmVnYWRvLiBUdSBwZXJmaWwgc2UgZW5jdWVudHJhIGluaGFiaWxpdGFkby4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygndG9hc3RfZXJyb3InKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVuc2FqZSA9ICJIYXMgaW50cm9kdWNpZG8gbWFsIGVsIFJ1dCBvIGxhIENvbnRyYXNlw7FhLiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRidlRvYXN0LnNob3coJ3RvYXN0X2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplID0gIkhhcyBpbnRyb2R1Y2lkbyBtYWwgZWwgUnV0IG8gbGEgQ29udHJhc2XDsWEuIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kYnZUb2FzdC5zaG93KCd0b2FzdF9lcnJvcicpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnNhamUgPSAiSGFzIGludHJvZHVjaWRvIG1hbCBlbCBSdXQgbyBsYSBDb250cmFzZcOxYS4iOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygndG9hc3RfZXJyb3InKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgdGhpcy5tZW5zYWplID0gIkZhbGzDsyBlbCBpbmdyZXNvLiBQb3IgZmF2b3IgcmV2aXNlIGxvcyBkYXRvcyBpbmdyZXNhZG9zIGUgaW50ZW50ZSBudWV2YW1lbnRlLiI7CiAgICAgICAgICAgICAgICB0aGlzLiRidlRvYXN0LnNob3coJ3RvYXN0X2Vycm9yJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVjdXBlcmFyQ29udHJhc2VuYSgpewogICAgICAgICAgICBjb25zdCB7IHZhbGlkYXRlLCBjbGVhbiwgZm9ybWF0LCBnZXRDaGVja0RpZ2l0IH0gPSByZXF1aXJlKCdydXQuanMnKQoKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBmcm9tX25hbWU6ICJTaXN0ZW1hIEJpYmxpb3RlY2giLAogICAgICAgICAgICAgICAgdG9fZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiUGFyYSBjcmVhciB1bmEgbnVldmEgY29udHJhc2XDsWEgZGViZXMgaGFjZXIgY2xpY2sgZW4gZWwgc2lndWllbnRlIGVubGFjZToiLAogICAgICAgICAgICAgICAgc3ViamVjdDogIkNyZWFyIG51ZXZhIGNvbnRyYXNlw7FhIGVuICIsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBlbWFpbGpzLnNlbmQoInNlcnZpY2VfMzN6dzkxbSIsInRlbXBsYXRlX2p5eHF2cm4iLCBkYXRhKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UudGV4dCA9PT0gJ09LJyl7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0VsIGNvcnJlbyBzZSBoYSBlbnZpYWRvIGRlIGZvcm1hIGV4aXRvc2EuIFBvciBmYXZvciByZXZpc2EgdHUgYmFuZGVqYSBkZSBlbnRyYWRhJyk7CiAgICAgICAgICAgICAgICAgICAgLy9wb25lciB1biB0b2FzdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlNVQ0NFU1MuIHN0YXR1cz0lZCwgdGV4dD0lcyIsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudGV4dCk7CiAgICAgICAgICAgICAgICAvLyBMaW1waWFyIGNhbXBvcyBtb2RhbAogICAgICAgICAgICAgICAgLy90aGlzLmVtYWlsPW51bGw7CgogICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdPY3VycmnDsyB1biBwcm9ibGVtYSBhbCBlbnZpYXIgZWwgY29ycmVvJyk7CiAgICAgICAgICAgICAgICAvL3BvbmVyIHVuIHRvYXN0CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRkFJTEVELiBlcnJvcj0iLCBlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHZvbHZlckNhdGFsb2dvKCl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICBjb21wcm9iYXJVc2VybmFtZSgpewogICAgICAgICAgICBjb25zdCB7IHZhbGlkYXRlLCBjbGVhbiwgZm9ybWF0LCBnZXRDaGVja0RpZ2l0IH0gPSByZXF1aXJlKCdydXQuanMnKQoJCQl0aGlzLnJ1dF9sZWN0b3I9IGZvcm1hdCh0aGlzLnJ1dF9sZWN0b3IpOwogICAgICAgICAgICBpZiAoZm9ybWF0KHRoaXMucnV0X2xlY3RvcikubGVuZ3RoID4gMTAgJiYgZm9ybWF0KHRoaXMucnV0X2xlY3RvcikubGVuZ3RoIDwgMTMpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb21wcm9iYXJQYXNzd29yZCgpewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb250cmFzZW5hX2xlYy5sZW5ndGggPiA1ID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOmZ1bmN0aW9uKCl7CgogICAgfSAgICAgICAgICAgICAgICAgCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <b-container fluid=\"1\" >\n            <b-row class=\"mt-2\">\n                <b-col cols=\"2\"></b-col>\n                <b-col cols=\"8\" align=\"center\">\n                    <b-card img-top bg-variant=\"light\">                        \n\n                        <form action class=\"form\" @submit.prevent=\"iniciarSesion\">  \n                            <b-row class=\"mt-0\">\n                                <b-col></b-col>\n                                <b-col cols=\"2\">\n                                    <div><b-img src=\"http://poseidon.conpax.cl/~nicolas/bibliotechLOGO.png\" class=\"d-inline-block align-top\" fluid alt=\"responsive image\"></b-img></div>\n                                </b-col>\n                                <b-col></b-col>\n                            </b-row>\n\n                            <b-row>\n                                <b-col></b-col>   \n                                <b-col align=\"center\" cols=\"8\">\n                                    <h5 class=\"mt-2\" align=\"center\">Sistema de Préstamos y Devoluciones Bibliotech</h5>\n                                </b-col>\n                                <b-col></b-col>   \n                            </b-row>\n\n                            <b-row class=\"mt-0\">\n                                <b-col>\n                                    <h6 class=\"mt-0\" align=\"center\" >Biblioteca Estaci&oacute;n Central</h6>\n                                </b-col>\n                            </b-row>\n                            \n                            <b-row class=\"mt-3\">\n                                <b-col>\n                                    <h5 class=\"mt-0\" align=\"center\" ><strong>Inicio de Sesión</strong></h5>\n                                </b-col>\n                            </b-row>\n                            \n                            <b-row class=\"mt-2\">    \n                                <b-col></b-col>          \n                                <b-col cols=\"8\">                  \n                                    <b-form-input type=\"text\" id=\"username\" name=\"username\" label=\"username\"\n                                    v-model=\"rut_lector\" placeholder=\"ej: 12.345.678-9\" class=\"form-control\"\n                                    :state=\"comprobarUsername\" :bordered=true autofocus autocomplete=\"off\"></b-form-input>\n                                        <b-form-invalid-feedback id=\"input-live-feedback\">Este campo es requerido</b-form-invalid-feedback>\n                                </b-col>  \n                                <b-col></b-col>                            \n                            </b-row>\n\n                            <b-row class=\"mt-2\">\n                                <b-col></b-col> \n                                <b-col cols=\"8\">                  \n                                    <b-form-input type=\"password\" id=\"contrasena\" name=\"contrasena\" label=\"contrasena\" align=\"center\"\n                                    v-model=\"contrasena_lec\" placeholder=\"Contraseña\" class=\"form-control\"\n                                    :state=\"comprobarPassword\" :bordered=true></b-form-input>\n                                        <b-form-invalid-feedback id=\"input-live-feedback\">Este campo es requerido</b-form-invalid-feedback>\n                                </b-col>                                    \n                                <b-col></b-col> \n                            </b-row>\n\n                            <b-row class=\"mt-3\">  \n                                <b-col></b-col>\n                                <b-col cols=\"6\" align=\"center\"><b-button block variant=\"info\"  @click=\"iniciarSesion()\" >Iniciar Sesión</b-button></b-col>                  \n                                <b-col></b-col>                          \n                            </b-row>\n\n                            <b-row class=\"mt-2\">  \n                                <b-col></b-col>\n                                <b-col cols=\"4\" align=\"center\"><b-link v-b-modal.modalRecuperarContrasena>¿Olvidaste la contrase&ntilde;a?</b-link></b-col>                  \n                                <b-col></b-col>                          \n                            </b-row>\n\n                            <b-row class=\"mt-3\">  \n                                <b-col></b-col>\n                                <b-col cols=\"4\" align=\"center\"><b-button outlined variant=\"outline-info\"  @click=\"volverCatalogo()\" >Volver al Catálogo</b-button></b-col>                  \n                                <b-col></b-col>                          \n                            </b-row>\n\n                            <b-row class=\"mt-3\">\n                                <b-col align=\"center\">\n                                    <b-toast id=\"toast_error\" variant=\"danger\" solid title=\"¡Atención.!\" static >\n                                        {{mensaje}}\n                                    </b-toast>\n                                </b-col>\n                            </b-row>                                                   \n                        </form>\n                    </b-card>\n                </b-col>\n                <b-col cols=\"2\"></b-col>\n            </b-row>\n            <b-row class=\"mt-2\" ></b-row>\n\n            <!-- Modal Recuperar Contraseña -->\n            <div id=\"divRecuperarContrasena\" name=\"divRecuperarContrasena\">\n                <template>\n                    <b-modal id=\"modalRecuperarContrasena\" name=\"modalRecuperarContrasena\" size=\"md\" no-close-on-esc scrollable centered  \n                        v-model='modalShow' header-bg-variant='info' header-text-variant='light' no-close-on-backdrop hide-header-close\n                        footer-bg-variant=\"light\">\n                        <template #modal-title>\n                            <span>Recuperar Contrase&ntilde;a</span>                                             \n                        </template>\n                        <b-container fluid=\"\">\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col cols=\"10\"><p>Ingresa tu Email. Te enviaremos un link para recuperar la contrase&ntilde;a.</p></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-3\">\n                                <b-col cols=\"1\"></b-col>\n                                <b-col>\n                                    <span>Email:</span>\n                                </b-col>\n                                <b-col cols=\"7\">\n                                    <b-form-input class=\"ml-4\" placeholder=\"ej: pedroarriagada@mail.com\" type=\"email\" v-model=\"email\" :state=\"null\" autofocus autocomplete=\"off\"></b-form-input>\n                                </b-col>\n                                <b-col></b-col>\n                            </b-row>\n                            <b-row class=\"mt-2\">\n                                <b-col cols=\"5\"></b-col>\n                                <b-col cols=\"6\" align=\"center\"><b-button class=\"mb-5\" variant='info' size=\"sm\" @click=\"recuperarContrasena()\">Recuperar Contrase&ntilde;a</b-button></b-col>\n                                <b-col></b-col>\n                            </b-row>\n                        </b-container>\n                        <template #modal-footer>\n                            <div class=\"w-100\">\n                                <b-row>\n                                    <b-col align=\"right\">\n                                        <b-button variant='secondary' style=\"width: 4rem;\" size=\"sm\" @click='modalShow = !modalShow'>Cerrar</b-button>\n                                    </b-col>                                        \n                                </b-row>                                    \n                            </div>                                                \n                        </template>\n                    </b-modal>\n                </template>\n            </div>\n        </b-container>\n    </div>\n</template>\n\n\n<script>    \n// import 'vue-toast-notification/dist/theme-sugar.css';\nimport auth from \"@/logica/auth\";\nimport axios from \"axios\";\nimport emailjs from 'emailjs-com';\nimport{ init } from 'emailjs-com';\ninit(\"user_mA5SdDw3wIaNsBSflyelz\");\nexport default {\n    name: 'Login',\n    created(){            \n                        \n    },\n    data(){\n        return{\n            itemId: null,\n            mensaje: '',\n            texto: '',\n            rut_lector: '',\n            contrasena_lec: '',\n            email: '',\n            foto: '',\n            activo: '',\n            modalShow: false,\n            datos: []\n        }\n    },\n    methods:{\n        iniciarSesion(){\n            const { validate, clean, format, getCheckDigit } = require('rut.js')\n            try {\n\n                axios.get(\"http://localhost:3000/lectores?rut_lector=\" + format(this.rut_lector)).then(response => {\n                    this.datos = response.data\n                    \n                    const user = {\n                        rut_lector: format(this.rut_lector),\n                        contrasena_lec: this.contrasena_lec,\n                        foto:this.datos[0].foto,\n                        activo:this.datos[0].activo\n                    };\n\n                    if (validate(this.rut_lector)) {\n                        if ((format(this.rut_lector) == this.datos[0].rut_lector) && (this.contrasena_lec == this.datos[0].contrasena_lec)) {\n                            if ((this.datos[0].activo == 'A')) {\n                                auth.setUserLogged(user);\n                                this.$router.push(\"/\");\n                            } else {\n                                this.mensaje = \"Acceso Denegado. Tu perfil se encuentra inhabilitado.\";\n                                this.$bvToast.show('toast_error');\n                            }\n                        } else {\n                            this.mensaje = \"Has introducido mal el Rut o la Contraseña.\";\n                            this.$bvToast.show('toast_error');\n                        }\n\n                    } else {\n                        this.mensaje = \"Has introducido mal el Rut o la Contraseña.\";\n                        this.$bvToast.show('toast_error');\n                    }\n\n                })\n                .catch(error => {\n                    this.mensaje = \"Has introducido mal el Rut o la Contraseña.\";\n                    this.$bvToast.show('toast_error');\n                });\n            } catch (error) {\n                console.log(error);\n                this.mensaje = \"Falló el ingreso. Por favor revise los datos ingresados e intente nuevamente.\";\n                this.$bvToast.show('toast_error')\n            }\n        },\n        recuperarContrasena(){\n            const { validate, clean, format, getCheckDigit } = require('rut.js')\n\n            let data = {\n                from_name: \"Sistema Bibliotech\",\n                to_email: this.email,\n                message: \"Para crear una nueva contraseña debes hacer click en el siguiente enlace:\",\n                subject: \"Crear nueva contraseña en \",\n            };\n            \n            emailjs.send(\"service_33zw91m\",\"template_jyxqvrn\", data)\n            .then(function(response) {\n                if(response.text === 'OK'){\n                    alert('El correo se ha enviado de forma exitosa. Por favor revisa tu bandeja de entrada');\n                    //poner un toast\n                }\n                console.log(\"SUCCESS. status=%d, text=%s\", response.status, response.text);\n                // Limpiar campos modal\n                //this.email=null;\n\n            }, function(err) {\n                alert('Ocurrió un problema al enviar el correo');\n                //poner un toast\n                console.log(\"FAILED. error=\", err);\n            });\n        },\n        volverCatalogo(){\n            this.$router.push(\"/\");\n        }\n    },\n    computed:{\n        comprobarUsername(){\n            const { validate, clean, format, getCheckDigit } = require('rut.js')\n\t\t\tthis.rut_lector= format(this.rut_lector);\n            if (format(this.rut_lector).length > 10 && format(this.rut_lector).length < 13) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        comprobarPassword(){\n            return this.contrasena_lec.length > 5 ? true : false;\n        }\n    },\n    mounted:function(){\n\n    }                 \n}\n</script>"]}]}