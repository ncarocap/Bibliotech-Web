{"remainingRequest":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Catalogo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/src/views/Catalogo.vue","mtime":1622324659894},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Escritorio/Grupo 3_Proyecto Bibliotech/Sistema/Aplicación Web/Frontend/bibliotech/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IGF1dGggZnJvbSAiQC9sb2dpY2EvYXV0aCI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdDYXRhbG9nbycsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBpdGVtOiAnJywKICAgICAgICAgICAgaXRlbTE6ICcnLAogICAgICAgICAgICBpdGVtMjogbnVsbCwKICAgICAgICAgICAgY2F0ZWdvcmlhOiBudWxsLAogICAgICAgICAgICB0aXBvcHJvZHVjdG86IG51bGwsCiAgICAgICAgICAgIHNlbGVjdGVkOiAnJywKICAgICAgICAgICAgdGV4dG86ICcnLAogICAgICAgICAgICBtb2RhbFNob3cxOiBmYWxzZSwKICAgICAgICAgICAgbW9kYWxTaG93MjogZmFsc2UsCiAgICAgICAgICAgIHNob3dEcm9wZG93bjogZmFsc2UsCiAgICAgICAgICAgIHNlbGVjdDogbnVsbCwKICAgICAgICAgICAgY2F0ZWdvcmlhczogW10sCiAgICAgICAgICAgIHhidXNxdWVkYTogW10sCiAgICAgICAgICAgIHhjYXRlZ29yaWFzOiBbXSwKICAgICAgICAgICAgdGlwb3Byb2R1Y3RvczogW10sCiAgICAgICAgICAgIHh0aXBvcHJvZHVjdG9zOiBbXSwKICAgICAgICAgICAgbHVnYXI6IFtdLAogICAgICAgICAgICBwcm9kdWN0b3M6W10sICAgICAgICAgICAgCiAgICAgICAgICAgIHRtcDogW10sCiAgICAgICAgICAgIGRldGFsbGVQcm9kdWN0bzpbXSwKICAgICAgICAgICAgZGV0YWxsZVJlc2VydmE6IFtdLAogICAgICAgICAgICByZXNlcnZhczogW10sCiAgICAgICAgICAgIGlkUmVzZXJ2YXM6IFtdLAogICAgICAgICAgICBtYXhJZFJlc2VydmE6IFtdLAogICAgICAgICAgICBsdWdhclByZXN0YW1vOlsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB7dmFsdWU6MSx0ZXh0OidTYWxhJ30sCiAgICAgICAgICAgICAgICB7dmFsdWU6Mix0ZXh0OidTYWxhIHkgRG9taWNpbGlvJ30KICAgICAgICAgICAgXSwKICAgICAgICAgICAgcHJvZHVjdG86IHsKICAgICAgICAgICAgICAgIGlkX3Byb2R1Y3RvOiBudWxsLAogICAgICAgICAgICAgICAgZGVzY19wcm9kOiAnJywKICAgICAgICAgICAgICAgIHRpdHVsbzogJycsCiAgICAgICAgICAgICAgICBhdXRvcjogJycsCiAgICAgICAgICAgICAgICBlZGl0b3JpYWw6ICcnLAogICAgICAgICAgICAgICAgZWRpY2lvbjogJycsCiAgICAgICAgICAgICAgICBhbm5vX2VkaWM6IG51bGwsCiAgICAgICAgICAgICAgICBkdXJhY2lvbjogJycsCiAgICAgICAgICAgICAgICB0aWVtcG9fcHJlc3Q6IG51bGwsCiAgICAgICAgICAgICAgICBsdWdhcl9wcmVzdDogbnVsbCwKICAgICAgICAgICAgICAgIGNhbnRpZGFkOiBudWxsLAogICAgICAgICAgICAgICAgaWRfY2F0ZWdvcmlhOiBudWxsLAogICAgICAgICAgICAgICAgaWRfdWJpY2FjaW9uOiBudWxsLAogICAgICAgICAgICAgICAgZm90b19wcm9kdWN0bzogJycKICAgICAgICAgICAgfSAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0sICAgIAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuY2FyZ2FyUHJvZHVjdG9zKCk7CgoJCWlmIChhdXRoLmdldFVzZXJMb2dnZWQoJ3VzZXInKS5ydXRfbGVjdG9yICE9ICcnIHx8IGF1dGguZ2V0VXNlckxvZ2dlZCgndXNlcicpLnJ1dF9sZWN0b3IgIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLm1vc3RyYXJCb3Rvbkxpc3RhKCk7CiAgICAgICAgfSBlbHNlIHsKCQkJdGhpcy5vY3VsdGFyQm90b25MaXN0YSgpOwoJCX0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBmaWx0cm9CdXNjYXJQcm9kdWN0bygpeyAgICAgICAgICAgIAogICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0b3M/dGl0dWxvPScrIHRoaXMudGV4dG8pLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5wcm9kdWN0b3MgPSByZXNwb25zZS5kYXRhKTsKICAgICAgICB9LAogICAgICAgIC8vRmlsdHJhciBwcm9kdWN0b3MgcG9yIFRpcG8gIGRlIFByb2R1Y3RvCiAgICAgICAgY2FyZ2FyRmlsdHJvVGlwb1Byb2R1Y3RvKCl7ICAgCiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvY2F0ZWdvcmlhcz9pZF90aXBvX3Byb2Q9JysgdGhpcy50aXBvcHJvZHVjdG8pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdmFyIGRhdG9zPSBbXTsgIAogICAgICAgICAgICAgICAgdGhpcy54dGlwb3Byb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMueHRpcG9wcm9kdWN0b3MuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0b3M/aWRfY2F0ZWdvcmlhPScrIGVsZW1lbnQuaWRfY2F0ZWdvcmlhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54Y2F0ZWdvcmlhcyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54Y2F0ZWdvcmlhcy5mb3JFYWNoKHN1YmVsZW1lbnQgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0b3MucHVzaChzdWJlbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG9zID0gZGF0b3M7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy9GaWx0cmFyIHByb2R1Y3RvcyBwb3IgQ2F0ZWdvcmlhCiAgICAgICAgY2FyZ2FyRmlsdHJvQ2F0ZWdvcmlhKCl7CiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcz9pZF9jYXRlZ29yaWE9JysgdGhpcy5jYXRlZ29yaWEpLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5wcm9kdWN0b3MgPSByZXNwb25zZS5kYXRhKTsKICAgICAgICB9LAogICAgICAgIC8vRmlsdHJhciBwcm9kdWN0b3MgcG9yIEx1Z2FyIGRlIFByw6lzdGFtbwogICAgICAgIGNhcmdhckZpbHRyb0x1Z2FyKCl7CiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3Rvcz9sdWdhcl9wcmVzdD0nKyB0aGlzLml0ZW0yKS50aGVuKHJlc3BvbnNlID0+IHRoaXMucHJvZHVjdG9zID0gcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSwKICAgICAgICAvL0NhcmdhciB0b2RvcyBsb3MgUHJvZHVjdG9zCiAgICAgICAgY2FyZ2FyUHJvZHVjdG9zKCl7CiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2R1Y3RvcycpLnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5wcm9kdWN0b3MgPSByZXNwb25zZS5kYXRhKTsKICAgICAgICB9LAogICAgICAgIC8vIEHDsWFkaXIgUHJvZHVjdG8gYSBsYSBsaXN0YSBkZSBkZXNlb3MKICAgICAgICBhbmFkaXJQcm9kdWN0byhpZCl7CiAgICAgICAgICAgIC8vdmFyIGRhdGUgPSBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgICAgICAgICAgdmFyIGRhdGUgPSBtb21lbnQoKS5mb3JtYXQoIkRELU1NLVlZIik7CiAgICAgICAgICAgIHRoaXMubWF4SWRSZXNlcnZhID0gdGhpcy5tYXhJZFJlc2VydmEgKyAxOwogICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMudG1wLnB1c2goe3J1dF9sZWN0b3I6SlNPTi5wYXJzZShhdXRoLmdldFVzZXJMb2dnZWQoJ3VzZXInKSkucnV0X2xlY3RvciwgZmVjaGFfcmVzZXJ2YTpkYXRlLCBpZF9wcm9kdWN0bzppZCwgaWRfcmVzZXJ2YTp0aGlzLm1heElkUmVzZXJ2YX0pOyAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9kdWN0b3MvJytpZCkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFsbGVSZXNlcnZhLnB1c2gocmVzcG9uc2UuZGF0YSkgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRVNURSBFUyBFTCBFUlJPUjogICAnLGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gQnVzY2FyIHByb2R1Y3RvIHBvciBlbCBJRF9QUk9EVUNUTwogICAgICAgIGJ1c2NhclByb2R1Y3RvKGlkKXsKICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcHJvZHVjdG9zLycraWQpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGV0YWxsZVByb2R1Y3RvID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLmlkX3Byb2R1Y3RvPXRoaXMuZGV0YWxsZVByb2R1Y3RvLmlkX3Byb2R1Y3RvCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLmRlc2NfcHJvZD10aGlzLmRldGFsbGVQcm9kdWN0by5kZXNjX3Byb2QKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG8udGl0dWxvPXRoaXMuZGV0YWxsZVByb2R1Y3RvLnRpdHVsbwogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0by5hdXRvcj10aGlzLmRldGFsbGVQcm9kdWN0by5hdXRvcgogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0by5lZGl0b3JpYWw9dGhpcy5kZXRhbGxlUHJvZHVjdG8uZWRpdG9yaWFsCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLmVkaWNpb249dGhpcy5kZXRhbGxlUHJvZHVjdG8uZWRpY2lvbgogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0by5hbm5vX2VkaWM9dGhpcy5kZXRhbGxlUHJvZHVjdG8uYW5ub19lZGljCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLmR1cmFjaW9uPXRoaXMuZGV0YWxsZVByb2R1Y3RvLmR1cmFjaW9uCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLnRpZW1wb19wcmVzdD10aGlzLmRldGFsbGVQcm9kdWN0by50aWVtcG9fcHJlc3QKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG8ubHVnYXJfcHJlc3Q9dGhpcy5kZXRhbGxlUHJvZHVjdG8ubHVnYXJfcHJlc3QKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG8uY2FudGlkYWQ9dGhpcy5kZXRhbGxlUHJvZHVjdG8uY2FudGlkYWQKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdG8uaWRfY2F0ZWdvcmlhPXRoaXMuZGV0YWxsZVByb2R1Y3RvLmlkX2NhdGVnb3JpYQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0by5pZF91YmljYWNpb249dGhpcy5kZXRhbGxlUHJvZHVjdG8uaWRfdWJpY2FjaW9uCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RvLmZvdG9fcHJvZHVjdG89dGhpcy5kZXRhbGxlUHJvZHVjdG8uZm90b19wcm9kdWN0bwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJFVklTQU5ETyBJRF9QUk9EVUNUTzogIix0aGlzLnByb2R1Y3RvLmlkX3Byb2R1Y3RvKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy9FbGltaW5hciBwcm9kdWN0byBkZSBsaXN0YSBkZSBkZXNlb3MKICAgICAgICBxdWl0YXJMaXN0YURlc2VvKGlkKXsgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5kZXRhbGxlUmVzZXJ2YSA9IHRoaXMuZGV0YWxsZVJlc2VydmEuZmlsdGVyKCAocikgPT4geyByZXR1cm4gci5pZF9wcm9kdWN0byAhPSBpZCB9KTsKICAgICAgICAgICAgdGhpcy50bXAgPSB0aGlzLnRtcC5maWx0ZXIoIChyKSA9PiB7IHJldHVybiByLmlkX3Byb2R1Y3RvICE9IGlkIH0pOwogICAgICAgIH0sCiAgICAgICAgLy9HdWFyZGFyIHJlc2VydmEKICAgICAgICBndWFyZGFyUmVzZXJ2YSgpewogICAgICAgICAgICBpZih0aGlzLnRtcC5sZW5ndGg9PTApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOTyBIQVkgUFJPRFVDVE9TIFBBUkEgUkVTRVJWQVInKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0aGlzLnRtcC5sZW5ndGg+MCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy50bXAuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRUxFTUVOVCcsZWxlbWVudCk7ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcmVzZXJ2YXMnLHsncmVzZXJ2YSc6ZWxlbWVudH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5zdGF0dXM9PTIwMSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JFU0VSVkEgR1VBUkRBREEgRVhJVE9TQU1FTlRFJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRtcD0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFsbGVSZXNlcnZhID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsU2hvdzIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3VhcmRhZG9FeGl0b3NvKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOyAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5lcnJvckd1YXJkYXIoKTsgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXN0ZSBlcyBlbCBlcnJvciBkZXNkZSBndWFyZGFyIHJlc2VydmE6ICIsZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicXVlIHRpZW5lIHRtcCBhbnRlcyBkZSBndWFyZGFyOiAiLGVsZW1lbnQpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJvcnJhckZpbHRyb3MoKXsKICAgICAgICAgICAgdGhpcy5jYXJnYXJQcm9kdWN0b3MoKTsKICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWEgPSBudWxsOwogICAgICAgICAgICB0aGlzLnRpcG9wcm9kdWN0byA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuaXRlbTI9IG51bGw7CiAgICAgICAgfSwKICAgICAgICBtb3N0cmFyQm90b25MaXN0YSgpewogICAgICAgICAgICB0aGlzLnNob3dEcm9wZG93biA9IHRydWUKICAgICAgICB9LAogICAgICAgIG9jdWx0YXJCb3Rvbkxpc3RhKCl7CiAgICAgICAgICAgIHRoaXMuc2hvd0Ryb3Bkb3duID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIGd1YXJkYWRvRXhpdG9zbygpewogICAgICAgICAgICB0aGlzLiRidlRvYXN0LnNob3coJ3Jlc2VydmFHdWFyZGFkYScpOwogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgdXNlckxvZ2dlZCgpewogICAgICAgIHJldHVybiBhdXRoLmdldFVzZXJMb2dnZWQoJ3VzZXInKTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCA6IGZ1bmN0aW9uKCl7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcmVzZXJ2YXMnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5yZXNlcnZhcyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgdGhpcy5yZXNlcnZhcy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pZFJlc2VydmFzLnB1c2goZWxlbWVudC5pZF9yZXNlcnZhKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0aGlzLmlkUmVzZXJ2YXMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMubWF4SWRSZXNlcnZhID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubWF4SWRSZXNlcnZhID0gTWF0aC5tYXguYXBwbHkobnVsbCwgdGhpcy5pZFJlc2VydmFzKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2NhdGVnb3JpYXMnKS50aGVuKHJlc3BvbnNlID0+IHRoaXMuY2F0ZWdvcmlhcyA9IHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL3RpcG9wcm9kdWN0b3MnKS50aGVuKHJlc3BvbnNlID0+IHRoaXMudGlwb3Byb2R1Y3RvcyA9IHJlc3BvbnNlLmRhdGEpOwogICAgfQp9Cg=="},{"version":3,"sources":["Catalogo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Catalogo.vue","sourceRoot":"src/views","sourcesContent":["<template> \n    <div id=\"main\" class=\"row flex-xl-nowrap2 mt-5\">\n        <div class=\"bd-sidebar border-bottom-0 col-md-3 col-xl-2 col-12\">\n            <form class=\"bd-search d-flex align-items-center\">\n                <span class=\"algolia-autocomplete\">\n                    <h5 class=\"mt-3\" text-variant=\"light\">Búsqueda</h5>\n                    <!-- select filtro busqueda producto -->\n                    <b-form-input placeholder=\"Búsqueda\" class=\"mt-3\" type=\"search\" v-model=\"texto\" :state=\"null\"></b-form-input>\n                    <b-button class=\"mt-3 float-right\" variant='success' size=\"sm\" @click=\"filtroBuscarProducto()\">Buscar</b-button>\n                </span>\n            </form>\n            <nav class=\"bd-links d-none d-md-block\">\n                <ul class=\"nav bd-sidenav\">\n                    <li class=\"nav-item mt-5\"> Filtros de búsqueda\n                        <!-- select filtro tipo producto -->\n                        <b-form-select class=\"mt-3\" v-model=\"tipoproducto\" :options=\"tipoproductos\" value-field=\"id_tipo_prod\" text-field=\"desc_t_prod\" size=\"sm\" @change=\"cargarFiltroTipoProducto()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Tipo Producto</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                            \n                        <!-- select filtro categoria producto -->\n                        <b-form-select class=\"mt-3\" v-model=\"categoria\" :options=\"categorias\" value-field=\"id_categoria\" text-field=\"desc_cat\" size=\"sm\" @change=\"cargarFiltroCategoria()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Categor&iacute;a Producto</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                        <!-- select filtro lugar prestamo -->\n                        <b-form-select class=\"mt-3\" v-model=\"item2\" :options=\"lugarPrestamo\" value-field=\"text\" text-field=\"text\" size=\"sm\" @change=\"cargarFiltroLugar()\">\n                            <template #first>\n                                <b-form-select-option :value=\"null\" disabled>Lugar Pr&eacute;stamo</b-form-select-option>\n                            </template>\n                        </b-form-select>\n                        <!-- Borrar filtros -->\n                        <b-button id=\"borrarfiltro\" class=\"mt-5\" block variant=\"dark\" @click=\"borrarFiltros()\">Borrar Filtros</b-button>\n                    </li>                    \n                </ul>\n            </nav>\n        </div>\n        <div class=\"bd-content col-md-10 col-xl-10 col-12 pb-md-3 pl-md-5\">\n            <div>\n                <b-row>\n                    <b-col align=\"right\">\n                        <div>\n                            <b-dropdown name=\"dropdown1\" id=\"dropdown1\" v-show=\"showDropdown\" :text=\"'Lista de deseos ('+tmp.length+')'\" class=\"m-md-2\" variant=\"warning\">                        \n                                <b-dropdown-item v-b-modal.modalDetalleReserva>Ir a reservar</b-dropdown-item>                        \n                            </b-dropdown>\n                        </div>\n                    </b-col>\n                </b-row>\n                <!-- BCARD PRODUCTO -->\n                <b-row class=\"mt-5\">\n                    <b-card-group columns>            \n                        <b-card\n                            :sub-title=\"item.desc_prod\"\n                            :img-src=\"item.foto_producto\"\n                            :img-alt=\"item.titulo\"\n                            img-top\n                            img-height=\"350\"\n                            style=\"max-width: 25rem;\"            \n                            class=\"mb-4\"\n                            v-for=\"item in productos\" :key=\"item.id_producto\" >\n                            <template #header>\n                                <h5>{{item.titulo}}</h5>\n                            </template>\n\n                            <b-row class=\"mt-2\">\n                                <b-col><b-link v-b-modal.modalDetalleProducto @click=\"buscarProducto(item.id_producto)\" href=\"\">Ver detalle >></b-link></b-col>                                \n                            </b-row>                        \n\n                            <template #footer>\n                                <b-row>\n                                    <template v-if=\"item.cantidad==0\">\n                                        <b-col cols=\"5\" align=\"left\"><small class=\"text-danger\"><span >Sin Stock</span></small></b-col>\n                                        <b-col cols=\"7\" align=\"right\"><b-button disabled href=\"#\" variant=\"primary\" size=\"sm\" @click=\"anadirProducto(item.id_producto)\">Añadir a la lista</b-button></b-col>\n                                    </template>\n                                    <template v-else>\n                                        <b-col cols=\"5\" align=\"left\"><small class=\"text-muted\">Disponible: {{item.cantidad}}</small></b-col>\n                                        <b-col cols=\"7\" align=\"right\"><b-button href=\"#\" variant=\"primary\" size=\"sm\" @click=\"anadirProducto(item.id_producto)\">Añadir a la lista</b-button></b-col>\n                                    </template>\n                                    \n                                </b-row>\n                            </template>\n                        </b-card>            \n                    </b-card-group>\n                </b-row>\n\n                <!-- Modal Detalle Producto -->\n                <div id=\"divDetalle\" name=\"divDetalle\">\n                    <template>\n                        <b-modal id=\"modalDetalleProducto\" name=\"modalDetalleProducto\" size=\"lg\" no-close-on-esc scrollable centered :title='item.titulo' \n                            v-model='modalShow1' header-bg-variant='primary' header-text-variant='light' no-close-on-backdrop hide-header-close\n                            footer-bg-variant=\"light\">\n                            <b-container fluid>\n                                    <b-row>\n                                        <b-col cols=\"6\">\n                                            <b-img fluid style=\"height:400px\" :src=\"producto.foto_producto\"></b-img>\n                                        </b-col>\n                                        \n                                        <b-col cols=\"4\">\n                                            <b-row>\n                                                <b-col>\n                                                    <h1>{{producto.titulo}}</h1>\n                                                    <h4>{{producto.desc_prod}}</h4>\n                                                    <p>por: {{producto.autor}}</p>\n                                                </b-col>                                        \n                                            </b-row>\n                                            <b-row class=\"mt-3\">\n                                                <b-col align=\"center\">\n                                                    <b-card>\n                                                        <b-row><small>Id: {{producto.id_producto}}</small></b-row>                                                \n                                                        <b-row><small>Editorial: {{producto.editorial}}</small></b-row>\n                                                        <b-row><small>Edición: {{producto.edicion}}</small></b-row>\n                                                        <b-row><small>Año edición: {{producto.anno_edic}}</small></b-row>\n                                                        <b-row><small>Duración: {{producto.duracion}}</small></b-row>\n                                                        <b-row><small>Tiempo de préstamo (HRS): {{producto.tiempo_prest}}</small></b-row>\n                                                        <b-row><small>Préstamo a: {{producto.lugar_prest}}</small></b-row>                                                \n                                                        <b-row><small>Id Categoría: {{producto.id_categoria}}</small></b-row>\n                                                        <b-row><small>Ubicación: {{producto.id_ubicacion}}</small></b-row>\n                                                    </b-card>\n                                                </b-col>                                        \n                                            </b-row>                                                                        \n                                        </b-col>\n                                    </b-row>\n                                    <b-row>\n                                        <b-col></b-col>\n                                    </b-row>\n                            </b-container>\n                            <template #modal-footer>\n                                <div class=\"w-100\">\n                                    <p class=\"float-left text-muted\">Cantidad Disponible: {{producto.cantidad}}</p>\n                                    <b-button class=\"float-right\" variant='primary' small @click='modalShow1 = !modalShow1'>Cerrar</b-button>\n                                </div>                                                \n                            </template>\n                        </b-modal>\n                    </template>\n                </div>\n\n                <!-- Modal Detalle Reserva -->\n                <div id=\"divDetalle\" name=\"divDetalle\">\n                    <template>\n                        <b-modal id=\"modalDetalleReserva\" name=\"modalDetalleReserva\" size=\"lg\" no-close-on-esc scrollable centered title='Lista de deseos' \n                            v-model='modalShow2' header-bg-variant='primary' header-text-variant='light' no-close-on-backdrop hide-header-close\n                            footer-bg-variant=\"light\">\n                            <b-container fluid>\n                                <div v-if=\"detalleReserva.length>0\">\n                                    <b-row class=\"mt-5\" v-for=\"item1 in detalleReserva\" :key=\"item1.id_producto\">\n                                        <b-col align=\"right\" cols=\"2\">\n                                            <b-button size=\"sm\" variant=\"danger\" @click=\"quitarListaDeseo(item1.id_producto)\">X</b-button>\n                                        </b-col>\n                                        \n                                        <b-card no-body class=\"overflow-hidden\" style=\"width: 600px;\" bg-variant=\"light\">                                                                                              \n                                            <b-row>\n                                                <b-col cols=\"4\">\n                                                    <b-card-img :src=\"item1.foto_producto\" :alt=\"item1.titulo\" height=\"200\" ></b-card-img>\n                                                </b-col>\n                                                <b-col cols=\"8\">\n                                                    <b-row>\n                                                        <b-col>\n                                                            <b-card-body :title=\"item1.titulo\">\n                                                                <b-card-text>{{item1.desc_prod}}</b-card-text>\n                                                                <b-card-text> <b-link>Cantidad: 1</b-link></b-card-text>\n                                                            </b-card-body>\n                                                        </b-col>                                            \n                                                    </b-row>                                        \n                                                </b-col>\n                                            </b-row>                                                                                       \n                                        </b-card>                            \n                                    </b-row>\n                                </div>\n                                <div v-else>\n                                    <b-row>\n                                        <b-col align=\"center\">\n                                            <h4>Lista Vacía</h4>\n                                            <p>Vuelva al Catálogo y seleccione según su interés.</p>\n                                        </b-col>\n                                    </b-row>                            \n                                </div>\n                                \n                            </b-container>\n                            <template #modal-footer>\n                                <div class=\"w-100\">\n                                    <b-row>\n                                        <b-col align=\"right\">\n                                            <b-button variant='secondary' style=\"width: 4rem;\" size=\"sm\" @click='modalShow2 = !modalShow2'>Cerrar</b-button>\n                                            <b-button class=\"ml-3\" style=\"width: 8rem;\" variant='primary' size=\"sm\" @click=\"guardarReserva()\">Reservar</b-button>\n                                        </b-col>                                        \n                                    </b-row>                                    \n                                </div>                                                \n                            </template>\n                        </b-modal>\n                    </template>\n                </div>\n            </div>\n        </div>\n\t\t<b-toast id=\"reservaGuardada\" variant=\"success\" solid>\n\t\t\t<template #toast-title>\n\t\t\t\t<div class=\"d-flex flex-grow-1 align-items-baseline\">\n\t\t\t\t<b-img blank blank-color=\"#5cb85c\" class=\"mr-2\" width=\"12\" height=\"12\"></b-img>\n\t\t\t\t<strong class=\"mr-auto\">Información!</strong>                    \n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\tRegistro guardado exitosamente.\n\t\t</b-toast>\n    </div>    \n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nimport auth from \"@/logica/auth\";\nexport default {\n    name: 'Catalogo',\n    data(){\n        return{\n            item: '',\n            item1: '',\n            item2: null,\n            categoria: null,\n            tipoproducto: null,\n            selected: '',\n            texto: '',\n            modalShow1: false,\n            modalShow2: false,\n            showDropdown: false,\n            select: null,\n            categorias: [],\n            xbusqueda: [],\n            xcategorias: [],\n            tipoproductos: [],\n            xtipoproductos: [],\n            lugar: [],\n            productos:[],            \n            tmp: [],\n            detalleProducto:[],\n            detalleReserva: [],\n            reservas: [],\n            idReservas: [],\n            maxIdReserva: [],\n            lugarPrestamo:[                \n                {value:1,text:'Sala'},\n                {value:2,text:'Sala y Domicilio'}\n            ],\n            producto: {\n                id_producto: null,\n                desc_prod: '',\n                titulo: '',\n                autor: '',\n                editorial: '',\n                edicion: '',\n                anno_edic: null,\n                duracion: '',\n                tiempo_prest: null,\n                lugar_prest: null,\n                cantidad: null,\n                id_categoria: null,\n                id_ubicacion: null,\n                foto_producto: ''\n            }            \n        }\n    },    \n    created(){\n        this.cargarProductos();\n\n\t\tif (auth.getUserLogged('user').rut_lector != '' || auth.getUserLogged('user').rut_lector != null) {\n            this.mostrarBotonLista();\n        } else {\n\t\t\tthis.ocultarBotonLista();\n\t\t}\n    },\n    methods:{\n        filtroBuscarProducto(){            \n            axios.get('http://localhost:3000/productos?titulo='+ this.texto).then(response => this.productos = response.data);\n        },\n        //Filtrar productos por Tipo  de Producto\n        cargarFiltroTipoProducto(){   \n                   \n            axios.get('http://localhost:3000/categorias?id_tipo_prod='+ this.tipoproducto).then(response => {\n                var datos= [];  \n                this.xtipoproductos = response.data\n                this.xtipoproductos.forEach(element => {\n                    axios.get('http://localhost:3000/productos?id_categoria='+ element.id_categoria).then(response => {\n                        this.xcategorias = response.data\n                        this.xcategorias.forEach(subelement => {                                       \n                            datos.push(subelement);\n                        });\n                    });\n                });\n                this.productos = datos;\n            });\n        },\n        //Filtrar productos por Categoria\n        cargarFiltroCategoria(){\n            axios.get('http://localhost:3000/productos?id_categoria='+ this.categoria).then(response => this.productos = response.data);\n        },\n        //Filtrar productos por Lugar de Préstamo\n        cargarFiltroLugar(){\n            axios.get('http://localhost:3000/productos?lugar_prest='+ this.item2).then(response => this.productos = response.data);\n        },\n        //Cargar todos los Productos\n        cargarProductos(){\n            axios.get('http://localhost:3000/productos').then(response => this.productos = response.data);\n        },\n        // Añadir Producto a la lista de deseos\n        anadirProducto(id){\n            //var date = moment().format(\"YYYY-MM-DD\");\n            var date = moment().format(\"DD-MM-YY\");\n            this.maxIdReserva = this.maxIdReserva + 1;\n            try {                \n                this.tmp.push({rut_lector:JSON.parse(auth.getUserLogged('user')).rut_lector, fecha_reserva:date, id_producto:id, id_reserva:this.maxIdReserva});                \n\n                axios.get('http://localhost:3000/productos/'+id)\n                .then(response => {\n                    this.detalleReserva.push(response.data)                    \n                });\n            } catch (error) {\n                console.log('ESTE ES EL ERROR:   ',error);\n            }\n        },\n        // Buscar producto por el ID_PRODUCTO\n        buscarProducto(id){\n            axios.get('http://localhost:3000/productos/'+id)\n            .then(response => {\n                this.detalleProducto = response.data\n                \n                this.producto.id_producto=this.detalleProducto.id_producto\n                this.producto.desc_prod=this.detalleProducto.desc_prod\n                this.producto.titulo=this.detalleProducto.titulo\n                this.producto.autor=this.detalleProducto.autor\n                this.producto.editorial=this.detalleProducto.editorial\n                this.producto.edicion=this.detalleProducto.edicion\n                this.producto.anno_edic=this.detalleProducto.anno_edic\n                this.producto.duracion=this.detalleProducto.duracion\n                this.producto.tiempo_prest=this.detalleProducto.tiempo_prest\n                this.producto.lugar_prest=this.detalleProducto.lugar_prest\n                this.producto.cantidad=this.detalleProducto.cantidad\n                this.producto.id_categoria=this.detalleProducto.id_categoria\n                this.producto.id_ubicacion=this.detalleProducto.id_ubicacion\n                this.producto.foto_producto=this.detalleProducto.foto_producto\n                console.log(\"REVISANDO ID_PRODUCTO: \",this.producto.id_producto);\n                });\n        },\n        //Eliminar producto de lista de deseos\n        quitarListaDeseo(id){            \n            this.detalleReserva = this.detalleReserva.filter( (r) => { return r.id_producto != id });\n            this.tmp = this.tmp.filter( (r) => { return r.id_producto != id });\n        },\n        //Guardar reserva\n        guardarReserva(){\n            if(this.tmp.length==0)\n            {\n                console.log('NO HAY PRODUCTOS PARA RESERVAR');\n            }\n            if(this.tmp.length>0)\n            {\n                this.tmp.forEach(element => {\n                    console.log('ELEMENT',element);                    \n                    axios.post('http://localhost:3000/reservas',{'reserva':element})\n                    .then(response => {\n                        if(response.status==201)\n                        {\n                            console.log('RESERVA GUARDADA EXITOSAMENTE');\n                            this.tmp= [];\n                            this.detalleReserva = [];\n                            this.modalShow2 = false;\n                            this.guardadoExitoso();\n                        }\n                    })\n                    .catch(error => {\n                        //this.errorMessage = error.message;     \n                        //this.errorGuardar();               \n                        console.error(\"Este es el error desde guardar reserva: \",error);\n                        console.log(\"que tiene tmp antes de guardar: \",element);\n                    });\n                });\n            }\n        },\n        borrarFiltros(){\n            this.cargarProductos();\n            this.categoria = null;\n            this.tipoproducto = null;\n            this.item2= null;\n        },\n        mostrarBotonLista(){\n            this.showDropdown = true\n        },\n        ocultarBotonLista(){\n            this.showDropdown = false\n        },\n        guardadoExitoso(){\n            this.$bvToast.show('reservaGuardada');\n        }\n    },\n    computed:{\n        userLogged(){\n        return auth.getUserLogged('user');\n        }\n    },\n    mounted : function(){\n        axios.get('http://localhost:3000/reservas').then(response => {\n            this.reservas = response.data\n            this.reservas.forEach(element => {\n                this.idReservas.push(element.id_reserva)\n            });\n            \n            if (this.idReservas.length == 0) {\n                this.maxIdReserva = 1;\n            } else {\n                this.maxIdReserva = Math.max.apply(null, this.idReservas);\n            }\n        });\n        \n        axios.get('http://localhost:3000/categorias').then(response => this.categorias = response.data);\n        axios.get('http://localhost:3000/tipoproductos').then(response => this.tipoproductos = response.data);\n    }\n}\n</script>\n\n<style scoped>\n    b-img{\n        width:60px;\n        height:60px;\n    }\n    .bd-sidebar {\n        max-height: 30rem;\n        background-color: #17a2b8;\n        color: #f7f7f7;\n    }    \n</style>"]}]}